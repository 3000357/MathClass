"bundle";System.registerDynamic("index.coffee!github:forresto/system-coffee@0.1.2",["github:satazor/sparkmd5@1.0.0","github:stuk/jszip@2.5.0","github:matthewbauer/keypad@0.0.2","x-retro.js"],!0,function(require,t,e){var n=this,r=n.define;n.define=void 0;var i,o,a,s,u,d,c,h,l,f,p;return navigator.serviceWorker&&navigator.serviceWorker.register("worker.js"),h=require("github:satazor/sparkmd5@1.0.0").ArrayBuffer.hash,i=require("github:stuk/jszip@2.5.0"),o=require("github:matthewbauer/keypad@0.0.2")["default"],a=require("x-retro.js")["default"],l=document.createElement("canvas","x-retro"),document.body.appendChild(l),d=document.getElementById("draghint"),s=document.getElementById("chooser"),u={gb:"gambatte",gbc:"gambatte",smc:"snes9x-next",fig:"snes9x-next",sfc:"snes9x-next",swc:"snes9x-next",gba:"vba-next",vec:"vecx",mgw:"gw",nes:"nestopia"},f=function(){},p=function(){return l.stop(),f()},addEventListener("beforeunload",function(){return l.player?p():void 0}),c=function(t){var e,n,r;return r=t.name.split("."),e=r[r.length-1],u[e]||"zip"===e?(d.classList.add("hidden"),n=new FileReader,n.addEventListener("load",function(r){var a,s,c,f,m,_;if(m=null,"zip"===e){for(_=new i(n.result),c=_.file(/.*/),a=0,s=c.length;s>a;a++)if(t=c[a],f=t.name.split("."),e=f[f.length-1],u[extesion]){m=new Uint8Array(t.asArrayBuffer());break}}else u[e]&&(m=new Uint8Array(n.result));return m?(l.running&&p(),l.md5=h(m),Promise.all([System["import"](u[e])]).then(function(t){var e,n;return e=t[0],n=t[1],l.inputs=[],null!=navigator.getGamepads&&(l.inputs=navigator.getGamepads()),l.inputs[0]||(l.inputs[0]=new o(window,{9:8,13:9,16:8,18:1,32:0,37:14,38:12,39:15,40:13,65:1,66:0,68:15,73:3,74:2,75:0,76:1,82:5,83:13,87:12,88:3,89:2,90:3,91:2,222:8})),l.core=e,m&&(l.game=m),n&&(l.save=n),l.start()},function(){return d.classList.remove("hidden")})):d.classList.remove("hidden")}),n.readAsArrayBuffer(t)):void 0},addEventListener("drop",function(t){return t.preventDefault(),d.classList.remove("hover"),t.dataTransfer.files.length>0&&c(t.dataTransfer.files[0]),!1}),addEventListener("dragover",function(t){return t.preventDefault(),d.classList.add("hover"),!1}),addEventListener("dragleave",function(t){return t.preventDefault(),d.classList.remove("hover"),!1}),addEventListener("click",function(t){return d.classList.contains("hidden")?void 0:(d.classList.add("hover"),s.click())}),addEventListener("focus",function(){return d.classList.remove("hover")}),s.addEventListener("change",function(){return d.classList.remove("hover"),c(this.files[0])}),n.define=r,e.exports}),function(){var t=System.get("@@amd-helpers").createDefine();define("github:stuk/jszip@2.5.0",["github:stuk/jszip@2.5.0/dist/jszip"],function(t){return t}),t()}(),function(){var t=System.get("@@amd-helpers").createDefine();define("github:satazor/sparkmd5@1.0.0",["github:satazor/sparkmd5@1.0.0/spark-md5"],function(t){return t}),t()}(),System.registerDynamic("player.coffee!github:forresto/system-coffee@0.1.2",["github:matthewbauer/window@0.0.3","github:matthewbauer/window@0.0.3"],!0,function(require,t,e){var n=this,r=n.define;n.define=void 0;var i,o,a,s=function(t,e){return function(){return t.apply(e,arguments)}};return a=require("github:matthewbauer/window@0.0.3").requestAnimationFrame,o=require("github:matthewbauer/window@0.0.3").cancelAnimationFrame,e.exports=i=function(){function t(t,e,n,r,i,o){var a;for(this.gl=t,this.audio=e,this.inputs=n,this.core=r,this.game=i,this.save=o,this.frame=s(this.frame,this),this.environment=s(this.environment,this),this.audio_sample_batch=s(this.audio_sample_batch,this),this.video_refresh=s(this.video_refresh,this),this.input_state=s(this.input_state,this),this.initGL(),this.pixelFormat=this.core.PIXEL_FORMAT_0RGB1555,this.core.print=function(t){return console.log(t)},this.core.printErr=function(t){return console.error(t)},this.core.set_environment(this.environment),this.core.set_video_refresh(this.video_refresh),this.core.set_audio_sample(this.audio_sample),this.core.set_audio_sample_batch(this.audio_sample_batch),this.core.set_input_state(this.input_state),this.core.set_input_poll(this.input_poll),this.core.init(),this.av_info=this.core.get_system_av_info(),this.then=0,this.sampleRate=this.av_info.timing.sample_rate,this.numBuffers=Math.floor(this.latency*this.sampleRate/(1e3*this.bufferSize)),this.numBuffers<2&&(this.numBuffers=2),a=0,this.buffers=[];a<this.numBuffers;)this.buffers[a]=this.audio.createBuffer(2,this.bufferSize,this.sampleRate),a++;this.bufOffset=0,this.bufIndex=0,null!=this.game&&this.core.load_game(this.game),null!=this.save&&this.core.unserialize(this.save)}return t.prototype.update=!1,t.prototype.overscan=!1,t.prototype.can_dupe=!0,t.prototype.latency=180,t.prototype.bufferSize=22048,t.prototype.initGL=function(){var t,e,n,r,i,o,a;return e=this.gl.createShader(this.gl.FRAGMENT_SHADER),this.gl.shaderSource(e,"precision mediump float; uniform sampler2D u_image; varying vec2 v_texCoord; void main() { gl_FragColor = texture2D(u_image, v_texCoord); }"),this.gl.compileShader(e),a=this.gl.createShader(this.gl.VERTEX_SHADER),this.gl.shaderSource(a,"attribute vec2 a_texCoord; attribute vec2 a_position; varying vec2 v_texCoord; void main() { gl_Position = vec4(a_position, 0, 1); v_texCoord = a_texCoord; }"),this.gl.compileShader(a),r=this.gl.createProgram(),this.gl.attachShader(r,a),this.gl.attachShader(r,e),this.gl.linkProgram(r),this.gl.useProgram(r),n=this.gl.getAttribLocation(r,"a_position"),t=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,t),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),this.gl.STATIC_DRAW),this.gl.enableVertexAttribArray(n),this.gl.vertexAttribPointer(n,2,this.gl.FLOAT,!1,0,0),o=this.gl.getAttribLocation(r,"a_texCoord"),i=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,i),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),this.gl.STATIC_DRAW),this.gl.enableVertexAttribArray(o),this.gl.vertexAttribPointer(o,2,this.gl.FLOAT,!1,0,0),this.texture=this.gl.createTexture(),this.gl.bindTexture(this.gl.TEXTURE_2D,this.texture),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!0)},t.prototype.input_state=function(t,e,n,r){var i,o;return null!=(i=this.inputs[t])&&null!=(o=i.buttons[{0:0,1:2,2:8,3:9,4:12,5:13,6:14,7:15,8:1,9:3,10:4,11:5,12:6,13:7,14:10,15:11}[r]])?o.pressed:void 0},t.prototype.audio_sample=function(){},t.prototype.input_poll=function(){},t.prototype.video_refresh=function(t,e,n,r){var i,o;switch(this.width=e,this.height=n,this.gl.canvas.width=this.width,this.gl.canvas.height=this.height,this.gl.viewport(0,0,r/t.BYTES_PER_ELEMENT,this.height),this.pixelFormat){case this.core.PIXEL_FORMAT_0RGB1555:o=this.gl.UNSIGNED_SHORT_5_5_5_1,i=this.gl.RGB;break;case this.core.PIXEL_FORMAT_RGB565:i=this.gl.RGB,o=this.gl.UNSIGNED_SHORT_5_6_5}return this.gl.texImage2D(this.gl.TEXTURE_2D,0,i,r/t.BYTES_PER_ELEMENT,this.height,0,i,o,t),this.gl.drawArrays(this.gl.TRIANGLES,0,6)},t.prototype.audio_sample_batch=function(t,e,n){var r,i,o,a,s,u;for(a=0;a<this.bufIndex;)this.buffers[a].endTime<this.audio.currentTime&&(r=this.buffers.splice(a,1)[0],this.buffers[this.numBuffers-1]=r,a--,this.bufIndex--),a++;for(i=0;n;){if(o=this.buffers[this.bufIndex].length-this.bufOffset,o>n&&(o=n),this.bufOffset>=this.bufferSize-1e3){if(this.bufIndex>=this.numBuffers-1)break;u=this.bufIndex?this.buffers[this.bufIndex-1].endTime:this.audio.currentTime,this.buffers[this.bufIndex].endTime=u+this.buffers[this.bufIndex].duration,s=this.audio.createBufferSource(),s.buffer=this.buffers[this.bufIndex],s.connect(this.audio.destination),s.start(u),this.bufIndex++,this.bufOffset=0}this.buffers[this.bufIndex].copyToChannel(new Float32Array(t,4*i,o),0,this.bufOffset),this.buffers[this.bufIndex].copyToChannel(new Float32Array(e,4*i,o),1,this.bufOffset),this.bufOffset+=o,i+=o,n-=o}return i},t.prototype.setVariable=function(t,e){return this[t]=e,this.update=!0},t.prototype.log=function(t,e){return console.log(e)},t.prototype.environment=function(t,e){switch(t){case this.core.ENVIRONMENT_GET_LOG_INTERFACE:return this.log;case this.core.ENVIRONMENT_SET_PIXEL_FORMAT:return this.pixelFormat=e,!0;case this.core.ENVIRONMENT_GET_VARIABLE_UPDATE:return this.update?(this.update=!1,!0):!1;case this.core.ENVIRONMENT_GET_OVERSCAN:return this.overscan;case this.core.ENVIRONMENT_GET_CAN_DUPE:return this.can_dupe;case this.core.ENVIRONMENT_SET_PERFORMANCE_LEVEL:return!0;case this.core.ENVIRONMENT_SET_VARIABLES:return!0;case this.core.ENVIRONMENT_SET_MEMORY_MAPS:return!0;default:return console.log("Unknown environment command "+t),!0}},t.prototype.frame=function(t){return this.requestID=a(this.frame),this.core.run()},t.prototype.start=function(){return this.frame()},t.prototype.stop=function(){return o(this.requestID)},t}(),n.define=r,e.exports}),function(){var t=System.get("@@amd-helpers").createDefine();!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define("github:stuk/jszip@2.5.0/dist/jszip",[],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.JSZip=t()}}(function(){return function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);throw new Error("Cannot find module '"+a+"'")}var d=n[a]={exports:{}};e[a][0].call(d.exports,function(t){var n=e[a][1][t];return i(n?n:t)},d,d.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e,n){"use strict";var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(t,e){for(var n,i,o,a,s,u,d,c="",h=0;h<t.length;)n=t.charCodeAt(h++),i=t.charCodeAt(h++),o=t.charCodeAt(h++),a=n>>2,s=(3&n)<<4|i>>4,u=(15&i)<<2|o>>6,d=63&o,isNaN(i)?u=d=64:isNaN(o)&&(d=64),c=c+r.charAt(a)+r.charAt(s)+r.charAt(u)+r.charAt(d);return c},n.decode=function(t,e){var n,i,o,a,s,u,d,c="",h=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");h<t.length;)a=r.indexOf(t.charAt(h++)),s=r.indexOf(t.charAt(h++)),u=r.indexOf(t.charAt(h++)),d=r.indexOf(t.charAt(h++)),n=a<<2|s>>4,i=(15&s)<<4|u>>2,o=(3&u)<<6|d,c+=String.fromCharCode(n),64!=u&&(c+=String.fromCharCode(i)),64!=d&&(c+=String.fromCharCode(o));return c}},{}],2:[function(t,e,n){"use strict";function r(){this.compressedSize=0,this.uncompressedSize=0,this.crc32=0,this.compressionMethod=null,this.compressedContent=null}r.prototype={getContent:function(){return null},getCompressedContent:function(){return null}},e.exports=r},{}],3:[function(t,e,n){"use strict";n.STORE={magic:"\x00\x00",compress:function(t,e){return t},uncompress:function(t){return t},compressInputType:null,uncompressInputType:null},n.DEFLATE=t("./flate")},{"./flate":8}],4:[function(t,e,n){"use strict";var r=t("./utils"),i=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];e.exports=function(t,e){if("undefined"==typeof t||!t.length)return 0;var n="string"!==r.getTypeOf(t);"undefined"==typeof e&&(e=0);var o=0,a=0,s=0;e=-1^e;for(var u=0,d=t.length;d>u;u++)s=n?t[u]:t.charCodeAt(u),a=255&(e^s),o=i[a],e=e>>>8^o;return-1^e}},{"./utils":21}],5:[function(t,e,n){"use strict";function r(t){this.data=null,this.length=0,this.index=0}var i=t("./utils");r.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<t||0>t)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,n=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)n=(n<<8)+this.byteAt(e);return this.index+=t,n},readString:function(t){return i.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date((t>>25&127)+1980,(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1)}},e.exports=r},{"./utils":21}],6:[function(t,e,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!1,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],7:[function(t,e,n){"use strict";var r=t("./utils");n.string2binary=function(t){return r.string2binary(t)},n.string2Uint8Array=function(t){return r.transformTo("uint8array",t)},n.uint8Array2String=function(t){return r.transformTo("string",t)},n.string2Blob=function(t){var e=r.transformTo("arraybuffer",t);return r.arrayBuffer2Blob(e)},n.arrayBuffer2Blob=function(t){return r.arrayBuffer2Blob(t)},n.transformTo=function(t,e){return r.transformTo(t,e)},n.getTypeOf=function(t){return r.getTypeOf(t)},n.checkSupport=function(t){return r.checkSupport(t)},n.MAX_VALUE_16BITS=r.MAX_VALUE_16BITS,n.MAX_VALUE_32BITS=r.MAX_VALUE_32BITS,n.pretty=function(t){return r.pretty(t)},n.findCompression=function(t){return r.findCompression(t)},n.isRegExp=function(t){return r.isRegExp(t)}},{"./utils":21}],8:[function(t,e,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=t("pako");n.uncompressInputType=r?"uint8array":"array",n.compressInputType=r?"uint8array":"array",n.magic="\b\x00",n.compress=function(t,e){return i.deflateRaw(t,{level:e.level||-1})},n.uncompress=function(t){return i.inflateRaw(t)}},{pako:24}],9:[function(t,e,n){"use strict";function r(t,e){return this instanceof r?(this.files={},this.comment=null,this.root="",t&&this.load(t,e),void(this.clone=function(){var t=new r;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t})):new r(t,e)}var i=t("./base64");r.prototype=t("./object"),r.prototype.load=t("./load"),r.support=t("./support"),r.defaults=t("./defaults"),r.utils=t("./deprecatedPublicUtils"),r.base64={encode:function(t){return i.encode(t)},decode:function(t){return i.decode(t)}},r.compressions=t("./compressions"),e.exports=r},{"./base64":1,"./compressions":3,"./defaults":6,"./deprecatedPublicUtils":7,"./load":10,"./object":13,"./support":17}],10:[function(t,e,n){"use strict";var r=t("./base64"),i=t("./zipEntries");e.exports=function(t,e){var n,o,a,s;for(e=e||{},e.base64&&(t=r.decode(t)),o=new i(t,e),n=o.files,a=0;a<n.length;a++)s=n[a],this.file(s.fileName,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileComment.length?s.fileComment:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:e.createFolders});return o.zipComment.length&&(this.comment=o.zipComment),this}},{"./base64":1,"./zipEntries":22}],11:[function(t,e,n){(function(t){"use strict";e.exports=function(e,n){return new t(e,n)},e.exports.test=function(e){return t.isBuffer(e)}}).call(this,"undefined"!=typeof Buffer?Buffer:void 0)},{}],12:[function(t,e,n){"use strict";function r(t){this.data=t,this.length=this.data.length,this.index=0}var i=t("./uint8ArrayReader");r.prototype=new i,r.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.index,this.index+t);return this.index+=t,e},e.exports=r},{"./uint8ArrayReader":18}],13:[function(t,e,n){"use strict";var r=t("./support"),i=t("./utils"),o=t("./crc32"),a=t("./signature"),s=t("./defaults"),u=t("./base64"),d=t("./compressions"),c=t("./compressedObject"),h=t("./nodeBuffer"),l=t("./utf8"),f=t("./stringWriter"),p=t("./uint8ArrayWriter"),m=function(t){if(t._data instanceof c&&(t._data=t._data.getContent(),t.options.binary=!0,t.options.base64=!1,"uint8array"===i.getTypeOf(t._data))){var e=t._data;t._data=new Uint8Array(e.length),0!==e.length&&t._data.set(e,0)}return t._data},_=function(t){var e=m(t),n=i.getTypeOf(e);return"string"===n?!t.options.binary&&r.nodebuffer?h(e,"utf-8"):t.asBinary():e},g=function(t){var e=m(this);return null===e||"undefined"==typeof e?"":(this.options.base64&&(e=u.decode(e)),e=t&&this.options.binary?I.utf8decode(e):i.transformTo("string",e),t||this.options.binary||(e=i.transformTo("string",I.utf8encode(e))),e)},b=function(t,e,n){this.name=t,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=e,this.options=n,this._initialMetadata={dir:n.dir,date:n.date}};b.prototype={asText:function(){return g.call(this,!0)},asBinary:function(){return g.call(this,!1)},asNodeBuffer:function(){var t=_(this);return i.transformTo("nodebuffer",t)},asUint8Array:function(){var t=_(this);return i.transformTo("uint8array",t)},asArrayBuffer:function(){return this.asUint8Array().buffer}};var v=function(t,e){var n,r="";for(n=0;e>n;n++)r+=String.fromCharCode(255&t),t>>>=8;return r},w=function(){var t,e,n={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&"undefined"==typeof n[e]&&(n[e]=arguments[t][e]);return n},y=function(t){return t=t||{},t.base64!==!0||null!==t.binary&&void 0!==t.binary||(t.binary=!0),t=w(t,s),t.date=t.date||new Date,null!==t.compression&&(t.compression=t.compression.toUpperCase()),t},E=function(t,e,n){var r,o=i.getTypeOf(e);if(n=y(n),"string"==typeof n.unixPermissions&&(n.unixPermissions=parseInt(n.unixPermissions,8)),n.unixPermissions&&16384&n.unixPermissions&&(n.dir=!0),n.dosPermissions&&16&n.dosPermissions&&(n.dir=!0),n.dir&&(t=k(t)),n.createFolders&&(r=x(t))&&C.call(this,r,!0),n.dir||null===e||"undefined"==typeof e)n.base64=!1,n.binary=!1,e=null,o=null;else if("string"===o)n.binary&&!n.base64&&n.optimizedBinaryString!==!0&&(e=i.string2binary(e));else{if(n.base64=!1,n.binary=!0,!(o||e instanceof c))throw new Error("The data of '"+t+"' is in an unsupported format !");"arraybuffer"===o&&(e=i.transformTo("uint8array",e))}var a=new b(t,e,n);return this.files[t]=a,a},x=function(t){"/"==t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return e>0?t.substring(0,e):""},k=function(t){return"/"!=t.slice(-1)&&(t+="/"),t},C=function(t,e){return e="undefined"!=typeof e?e:!1,t=k(t),this.files[t]||E.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]},A=function(t,e,n){var r,a=new c;return t._data instanceof c?(a.uncompressedSize=t._data.uncompressedSize,a.crc32=t._data.crc32,0===a.uncompressedSize||t.dir?(e=d.STORE,a.compressedContent="",a.crc32=0):t._data.compressionMethod===e.magic?a.compressedContent=t._data.getCompressedContent():(r=t._data.getContent(),a.compressedContent=e.compress(i.transformTo(e.compressInputType,r),n))):(r=_(t),(!r||0===r.length||t.dir)&&(e=d.STORE,r=""),a.uncompressedSize=r.length,a.crc32=o(r),a.compressedContent=e.compress(i.transformTo(e.compressInputType,r),n)),a.compressedSize=a.compressedContent.length,a.compressionMethod=e.magic,a},S=function(t,e){var n=t;return t||(n=e?16893:33204),(65535&n)<<16},T=function(t,e){return 63&(t||0)},O=function(t,e,n,r,s){var u,d,c,h,f=(n.compressedContent,i.transformTo("string",l.utf8encode(e.name))),p=e.comment||"",m=i.transformTo("string",l.utf8encode(p)),_=f.length!==e.name.length,g=m.length!==p.length,b=e.options,w="",y="",E="";c=e._initialMetadata.dir!==e.dir?e.dir:b.dir,h=e._initialMetadata.date!==e.date?e.date:b.date;var x=0,k=0;c&&(x|=16),"UNIX"===s?(k=798,x|=S(e.unixPermissions,c)):(k=20,x|=T(e.dosPermissions,c)),u=h.getHours(),u<<=6,u|=h.getMinutes(),u<<=5,u|=h.getSeconds()/2,d=h.getFullYear()-1980,d<<=4,d|=h.getMonth()+1,d<<=5,d|=h.getDate(),_&&(y=v(1,1)+v(o(f),4)+f,w+="up"+v(y.length,2)+y),g&&(E=v(1,1)+v(this.crc32(m),4)+m,w+="uc"+v(E.length,2)+E);var C="";C+="\n\x00",C+=_||g?"\x00\b":"\x00\x00",C+=n.compressionMethod,C+=v(u,2),C+=v(d,2),C+=v(n.crc32,4),C+=v(n.compressedSize,4),C+=v(n.uncompressedSize,4),C+=v(f.length,2),C+=v(w.length,2);var A=a.LOCAL_FILE_HEADER+C+f+w,O=a.CENTRAL_FILE_HEADER+v(k,2)+C+v(m.length,2)+"\x00\x00\x00\x00"+v(x,4)+v(r,4)+f+w+m;return{fileRecord:A,dirRecord:O,compressedObject:n}},I={load:function(t,e){throw new Error("Load method is not defined. Is the file jszip-load.js included ?")},filter:function(t){var e,n,r,i,o=[];for(e in this.files)this.files.hasOwnProperty(e)&&(r=this.files[e],i=new b(r.name,r._data,w(r.options)),n=e.slice(this.root.length,e.length),e.slice(0,this.root.length)===this.root&&t(n,i)&&o.push(i));return o},file:function(t,e,n){if(1===arguments.length){if(i.isRegExp(t)){var r=t;return this.filter(function(t,e){return!e.dir&&r.test(t)})}return this.filter(function(e,n){return!n.dir&&e===t})[0]||null}return t=this.root+t,E.call(this,t,e,n),this},folder:function(t){if(!t)return this;if(i.isRegExp(t))return this.filter(function(e,n){return n.dir&&t.test(e)});var e=this.root+t,n=C.call(this,e),r=this.clone();return r.root=n.name,r},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!=t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var n=this.filter(function(e,n){return n.name.slice(0,t.length)===t}),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(t){t=w(t||{},{base64:!0,compression:"STORE",compressionOptions:null,type:"base64",platform:"DOS",comment:null,mimeType:"application/zip"}),i.checkSupport(t.type),("darwin"===t.platform||"freebsd"===t.platform||"linux"===t.platform||"sunos"===t.platform)&&(t.platform="UNIX"),"win32"===t.platform&&(t.platform="DOS");var e,n,r=[],o=0,s=0,c=i.transformTo("string",this.utf8encode(t.comment||this.comment||""));for(var h in this.files)if(this.files.hasOwnProperty(h)){var l=this.files[h],m=l.options.compression||t.compression.toUpperCase(),_=d[m];if(!_)throw new Error(m+" is not a valid compression method !");var g=l.options.compressionOptions||t.compressionOptions||{},b=A.call(this,l,_,g),y=O.call(this,h,l,b,o,t.platform);o+=y.fileRecord.length+b.compressedSize,s+=y.dirRecord.length,r.push(y)}var E="";E=a.CENTRAL_DIRECTORY_END+"\x00\x00\x00\x00"+v(r.length,2)+v(r.length,2)+v(s,4)+v(o,4)+v(c.length,2)+c;var x=t.type.toLowerCase();for(e="uint8array"===x||"arraybuffer"===x||"blob"===x||"nodebuffer"===x?new p(o+s+E.length):new f(o+s+E.length),n=0;n<r.length;n++)e.append(r[n].fileRecord),e.append(r[n].compressedObject.compressedContent);for(n=0;n<r.length;n++)e.append(r[n].dirRecord);e.append(E);var k=e.finalize();switch(t.type.toLowerCase()){case"uint8array":case"arraybuffer":case"nodebuffer":return i.transformTo(t.type.toLowerCase(),k);case"blob":return i.arrayBuffer2Blob(i.transformTo("arraybuffer",k),t.mimeType);case"base64":return t.base64?u.encode(k):k;default:return k}},crc32:function(t,e){return o(t,e)},utf8encode:function(t){return i.transformTo("string",l.utf8encode(t))},utf8decode:function(t){return l.utf8decode(t)}};e.exports=I},{"./base64":1,"./compressedObject":2,"./compressions":3,"./crc32":4,"./defaults":6,"./nodeBuffer":11,"./signature":14,"./stringWriter":16,"./support":17,"./uint8ArrayWriter":19,"./utf8":20,"./utils":21}],14:[function(t,e,n){"use strict";n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\b"},{}],15:[function(t,e,n){"use strict";function r(t,e){this.data=t,e||(this.data=o.string2binary(this.data)),this.length=this.data.length,this.index=0}var i=t("./dataReader"),o=t("./utils");r.prototype=new i,r.prototype.byteAt=function(t){return this.data.charCodeAt(t)},r.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)},r.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.index,this.index+t);return this.index+=t,e},e.exports=r},{"./dataReader":5,"./utils":21}],16:[function(t,e,n){"use strict";var r=t("./utils"),i=function(){this.data=[]};i.prototype={append:function(t){t=r.transformTo("string",t),this.data.push(t)},finalize:function(){return this.data.join("")}},e.exports=i},{"./utils":21}],17:[function(t,e,n){(function(t){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof t,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var e=new ArrayBuffer(0);try{n.blob=0===new Blob([e],{type:"application/zip"}).size}catch(r){try{var i=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,o=new i;o.append(e),n.blob=0===o.getBlob("application/zip").size}catch(r){n.blob=!1}}}}).call(this,"undefined"!=typeof Buffer?Buffer:void 0)},{}],18:[function(t,e,n){"use strict";function r(t){t&&(this.data=t,this.length=this.data.length,this.index=0)}var i=t("./dataReader");r.prototype=new i,r.prototype.byteAt=function(t){return this.data[t]},r.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),n=t.charCodeAt(1),r=t.charCodeAt(2),i=t.charCodeAt(3),o=this.length-4;o>=0;--o)if(this.data[o]===e&&this.data[o+1]===n&&this.data[o+2]===r&&this.data[o+3]===i)return o;return-1},r.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.index,this.index+t);return this.index+=t,e},e.exports=r},{"./dataReader":5}],19:[function(t,e,n){"use strict";var r=t("./utils"),i=function(t){this.data=new Uint8Array(t),this.index=0};i.prototype={append:function(t){0!==t.length&&(t=r.transformTo("uint8array",t),this.data.set(t,this.index),this.index+=t.length)},finalize:function(){return this.data}},e.exports=i},{"./utils":21}],20:[function(t,e,n){"use strict";for(var r=t("./utils"),i=t("./support"),o=t("./nodeBuffer"),a=new Array(256),s=0;256>s;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;a[254]=a[254]=1;var u=function(t){var e,n,r,o,a,s=t.length,u=0;for(o=0;s>o;o++)n=t.charCodeAt(o),55296===(64512&n)&&s>o+1&&(r=t.charCodeAt(o+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),o++)),u+=128>n?1:2048>n?2:65536>n?3:4;for(e=i.uint8array?new Uint8Array(u):new Array(u),a=0,o=0;u>a;o++)n=t.charCodeAt(o),55296===(64512&n)&&s>o+1&&(r=t.charCodeAt(o+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),o++)),128>n?e[a++]=n:2048>n?(e[a++]=192|n>>>6,e[a++]=128|63&n):65536>n?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|63&n):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|63&n);return e},d=function(t,e){var n;for(e=e||t.length,e>t.length&&(e=t.length),n=e-1;n>=0&&128===(192&t[n]);)n--;return 0>n?e:0===n?e:n+a[t[n]]>e?n:e},c=function(t){var e,n,i,o,s=t.length,u=new Array(2*s);for(n=0,e=0;s>e;)if(i=t[e++],128>i)u[n++]=i;else if(o=a[i],o>4)u[n++]=65533,e+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&s>e;)i=i<<6|63&t[e++],o--;o>1?u[n++]=65533:65536>i?u[n++]=i:(i-=65536,u[n++]=55296|i>>10&1023,u[n++]=56320|1023&i)}return u.length!==n&&(u.subarray?u=u.subarray(0,n):u.length=n),r.applyFromCharCode(u)};n.utf8encode=function(t){return i.nodebuffer?o(t,"utf-8"):u(t)},n.utf8decode=function(t){if(i.nodebuffer)return r.transformTo("nodebuffer",t).toString("utf-8");t=r.transformTo(i.uint8array?"uint8array":"array",t);for(var e=[],n=0,o=t.length,a=65536;o>n;){var s=d(t,Math.min(n+a,o));i.uint8array?e.push(c(t.subarray(n,s))):e.push(c(t.slice(n,s))),n=s}return e.join("")}},{"./nodeBuffer":11,"./support":17,"./utils":21}],21:[function(t,e,n){"use strict";function r(t){return t}function i(t,e){for(var n=0;n<t.length;++n)e[n]=255&t.charCodeAt(n);return e}function o(t){var e=65536,r=[],i=t.length,o=n.getTypeOf(t),a=0,s=!0;try{switch(o){case"uint8array":String.fromCharCode.apply(null,new Uint8Array(0));break;case"nodebuffer":String.fromCharCode.apply(null,d(0))}}catch(u){s=!1}if(!s){for(var c="",h=0;h<t.length;h++)c+=String.fromCharCode(t[h]);return c}for(;i>a&&e>1;)try{"array"===o||"nodebuffer"===o?r.push(String.fromCharCode.apply(null,t.slice(a,Math.min(a+e,i)))):r.push(String.fromCharCode.apply(null,t.subarray(a,Math.min(a+e,i)))),a+=e}catch(u){e=Math.floor(e/2)}return r.join("")}function a(t,e){for(var n=0;n<t.length;n++)e[n]=t[n];return e}var s=t("./support"),u=t("./compressions"),d=t("./nodeBuffer");n.string2binary=function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(255&t.charCodeAt(n));return e},n.arrayBuffer2Blob=function(t,e){n.checkSupport("blob"),e=e||"application/zip";try{return new Blob([t],{type:e})}catch(r){try{var i=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,o=new i;return o.append(t),o.getBlob(e)}catch(r){throw new Error("Bug : can't construct the Blob.")}}},n.applyFromCharCode=o;var c={};c.string={string:r,array:function(t){return i(t,new Array(t.length))},arraybuffer:function(t){return c.string.uint8array(t).buffer},uint8array:function(t){return i(t,new Uint8Array(t.length))},nodebuffer:function(t){return i(t,d(t.length))}},c.array={string:o,array:r,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return d(t)}},c.arraybuffer={string:function(t){return o(new Uint8Array(t))},array:function(t){return a(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:r,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return d(new Uint8Array(t))}},c.uint8array={string:o,array:function(t){return a(t,new Array(t.length));
},arraybuffer:function(t){return t.buffer},uint8array:r,nodebuffer:function(t){return d(t)}},c.nodebuffer={string:o,array:function(t){return a(t,new Array(t.length))},arraybuffer:function(t){return c.nodebuffer.uint8array(t).buffer},uint8array:function(t){return a(t,new Uint8Array(t.length))},nodebuffer:r},n.transformTo=function(t,e){if(e||(e=""),!t)return e;n.checkSupport(t);var r=n.getTypeOf(e),i=c[r][t](e);return i},n.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":s.nodebuffer&&d.test(t)?"nodebuffer":s.uint8array&&t instanceof Uint8Array?"uint8array":s.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(t){var e=s[t.toLowerCase()];if(!e)throw new Error(t+" is not supported by this browser")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(t){var e,n,r="";for(n=0;n<(t||"").length;n++)e=t.charCodeAt(n),r+="\\x"+(16>e?"0":"")+e.toString(16).toUpperCase();return r},n.findCompression=function(t){for(var e in u)if(u.hasOwnProperty(e)&&u[e].magic===t)return u[e];return null},n.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)}},{"./compressions":3,"./nodeBuffer":11,"./support":17}],22:[function(t,e,n){"use strict";function r(t,e){this.files=[],this.loadOptions=e,t&&this.load(t)}var i=t("./stringReader"),o=t("./nodeBufferReader"),a=t("./uint8ArrayReader"),s=t("./utils"),u=t("./signature"),d=t("./zipEntry"),c=t("./support"),h=t("./object");r.prototype={checkSignature:function(t){var e=this.reader.readString(4);if(e!==t)throw new Error("Corrupted zip or bug : unexpected signature ("+s.pretty(e)+", expected "+s.pretty(t)+")")},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2),this.zipComment=this.reader.readString(this.zipCommentLength),this.zipComment=h.utf8decode(this.zipComment)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.versionMadeBy=this.reader.readString(2),this.versionNeeded=this.reader.readInt(2),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,n,r=this.zip64EndOfCentralSize-44,i=0;r>i;)t=this.reader.readInt(2),e=this.reader.readInt(4),n=this.reader.readString(e),this.zip64ExtensibleData[t]={id:t,length:e,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(u.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readString(4)===u.CENTRAL_FILE_HEADER;)t=new d({zip64:this.zip64},this.loadOptions),t.readCentralPart(this.reader),this.files.push(t)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(u.CENTRAL_DIRECTORY_END);if(-1===t){var e=!0;try{this.reader.setIndex(0),this.checkSignature(u.LOCAL_FILE_HEADER),e=!1}catch(n){}throw e?new Error("Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip : can't find end of central directory")}if(this.reader.setIndex(t),this.checkSignature(u.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,t=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),-1===t)throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");this.reader.setIndex(t),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}},prepareReader:function(t){var e=s.getTypeOf(t);"string"!==e||c.uint8array?"nodebuffer"===e?this.reader=new o(t):this.reader=new a(s.transformTo("uint8array",t)):this.reader=new i(t,this.loadOptions.optimizedBinaryString)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=r},{"./nodeBufferReader":12,"./object":13,"./signature":14,"./stringReader":15,"./support":17,"./uint8ArrayReader":18,"./utils":21,"./zipEntry":23}],23:[function(t,e,n){"use strict";function r(t,e){this.options=t,this.loadOptions=e}var i=t("./stringReader"),o=t("./utils"),a=t("./compressedObject"),s=t("./object"),u=0,d=3;r.prototype={isEncrypted:function(){return 1===(1&this.bitFlag)},useUTF8:function(){return 2048===(2048&this.bitFlag)},prepareCompressedContent:function(t,e,n){return function(){var r=t.index;t.setIndex(e);var i=t.readData(n);return t.setIndex(r),i}},prepareContent:function(t,e,n,r,i){return function(){var t=o.transformTo(r.uncompressInputType,this.getCompressedContent()),e=r.uncompress(t);if(e.length!==i)throw new Error("Bug : uncompressed data size mismatch");return e}},readLocalPart:function(t){var e,n;if(t.skip(22),this.fileNameLength=t.readInt(2),n=t.readInt(2),this.fileName=t.readString(this.fileNameLength),t.skip(n),-1==this.compressedSize||-1==this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)");if(e=o.findCompression(this.compressionMethod),null===e)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+this.fileName+")");if(this.decompressed=new a,this.decompressed.compressedSize=this.compressedSize,this.decompressed.uncompressedSize=this.uncompressedSize,this.decompressed.crc32=this.crc32,this.decompressed.compressionMethod=this.compressionMethod,this.decompressed.getCompressedContent=this.prepareCompressedContent(t,t.index,this.compressedSize,e),this.decompressed.getContent=this.prepareContent(t,t.index,this.compressedSize,e,this.uncompressedSize),this.loadOptions.checkCRC32&&(this.decompressed=o.transformTo("string",this.decompressed.getContent()),s.crc32(this.decompressed)!==this.crc32))throw new Error("Corrupted zip : CRC32 mismatch")},readCentralPart:function(t){if(this.versionMadeBy=t.readInt(2),this.versionNeeded=t.readInt(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4),this.fileNameLength=t.readInt(2),this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");this.fileName=t.readString(this.fileNameLength),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readString(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=16&this.externalFileAttributes?!0:!1,t===u&&(this.dosPermissions=63&this.externalFileAttributes),t===d&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileName.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=new i(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,n,r,i=t.index;for(this.extraFields=this.extraFields||{};t.index<i+this.extraFieldsLength;)e=t.readInt(2),n=t.readInt(2),r=t.readString(n),this.extraFields[e]={id:e,length:n,value:r}},handleUTF8:function(){if(this.useUTF8())this.fileName=s.utf8decode(this.fileName),this.fileComment=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();null!==t&&(this.fileName=t);var e=this.findExtraFieldUnicodeComment();null!==e&&(this.fileComment=e)}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=new i(t.value);return 1!==e.readInt(1)?null:s.crc32(this.fileName)!==e.readInt(4)?null:s.utf8decode(e.readString(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=new i(t.value);return 1!==e.readInt(1)?null:s.crc32(this.fileComment)!==e.readInt(4)?null:s.utf8decode(e.readString(t.length-5))}return null}},e.exports=r},{"./compressedObject":2,"./object":13,"./stringReader":15,"./utils":21}],24:[function(t,e,n){"use strict";var r=t("./lib/utils/common").assign,i=t("./lib/deflate"),o=t("./lib/inflate"),a=t("./lib/zlib/constants"),s={};r(s,i,o,a),e.exports=s},{"./lib/deflate":25,"./lib/inflate":26,"./lib/utils/common":27,"./lib/zlib/constants":30}],25:[function(t,e,n){"use strict";function r(t,e){var n=new b(e);if(n.push(t,!0),n.err)throw n.msg;return n.result}function i(t,e){return e=e||{},e.raw=!0,r(t,e)}function o(t,e){return e=e||{},e.gzip=!0,r(t,e)}var a=t("./zlib/deflate.js"),s=t("./utils/common"),u=t("./utils/strings"),d=t("./zlib/messages"),c=t("./zlib/zstream"),h=0,l=4,f=0,p=1,m=-1,_=0,g=8,b=function(t){this.options=s.assign({level:m,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:_,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var n=a.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==f)throw new Error(d[n]);e.header&&a.deflateSetHeader(this.strm,e.header)};b.prototype.push=function(t,e){var n,r,i=this.strm,o=this.options.chunkSize;if(this.ended)return!1;r=e===~~e?e:e===!0?l:h,"string"==typeof t?i.input=u.string2buf(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;do{if(0===i.avail_out&&(i.output=new s.Buf8(o),i.next_out=0,i.avail_out=o),n=a.deflate(i,r),n!==p&&n!==f)return this.onEnd(n),this.ended=!0,!1;(0===i.avail_out||0===i.avail_in&&r===l)&&("string"===this.options.to?this.onData(u.buf2binstring(s.shrinkBuf(i.output,i.next_out))):this.onData(s.shrinkBuf(i.output,i.next_out)))}while((i.avail_in>0||0===i.avail_out)&&n!==p);return r===l?(n=a.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===f):!0},b.prototype.onData=function(t){this.chunks.push(t)},b.prototype.onEnd=function(t){t===f&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Deflate=b,n.deflate=r,n.deflateRaw=i,n.gzip=o},{"./utils/common":27,"./utils/strings":28,"./zlib/deflate.js":32,"./zlib/messages":37,"./zlib/zstream":39}],26:[function(t,e,n){"use strict";function r(t,e){var n=new l(e);if(n.push(t,!0),n.err)throw n.msg;return n.result}function i(t,e){return e=e||{},e.raw=!0,r(t,e)}var o=t("./zlib/inflate.js"),a=t("./utils/common"),s=t("./utils/strings"),u=t("./zlib/constants"),d=t("./zlib/messages"),c=t("./zlib/zstream"),h=t("./zlib/gzheader"),l=function(t){this.options=a.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0===(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var n=o.inflateInit2(this.strm,e.windowBits);if(n!==u.Z_OK)throw new Error(d[n]);this.header=new h,o.inflateGetHeader(this.strm,this.header)};l.prototype.push=function(t,e){var n,r,i,d,c,h=this.strm,l=this.options.chunkSize;if(this.ended)return!1;r=e===~~e?e:e===!0?u.Z_FINISH:u.Z_NO_FLUSH,"string"==typeof t?h.input=s.binstring2buf(t):h.input=t,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new a.Buf8(l),h.next_out=0,h.avail_out=l),n=o.inflate(h,u.Z_NO_FLUSH),n!==u.Z_STREAM_END&&n!==u.Z_OK)return this.onEnd(n),this.ended=!0,!1;h.next_out&&(0===h.avail_out||n===u.Z_STREAM_END||0===h.avail_in&&r===u.Z_FINISH)&&("string"===this.options.to?(i=s.utf8border(h.output,h.next_out),d=h.next_out-i,c=s.buf2string(h.output,i),h.next_out=d,h.avail_out=l-d,d&&a.arraySet(h.output,h.output,i,d,0),this.onData(c)):this.onData(a.shrinkBuf(h.output,h.next_out)))}while(h.avail_in>0&&n!==u.Z_STREAM_END);return n===u.Z_STREAM_END&&(r=u.Z_FINISH),r===u.Z_FINISH?(n=o.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===u.Z_OK):!0},l.prototype.onData=function(t){this.chunks.push(t)},l.prototype.onEnd=function(t){t===u.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Inflate=l,n.inflate=r,n.inflateRaw=i,n.ungzip=r},{"./utils/common":27,"./utils/strings":28,"./zlib/constants":30,"./zlib/gzheader":33,"./zlib/inflate.js":35,"./zlib/messages":37,"./zlib/zstream":39}],27:[function(t,e,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}}return t},n.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var i={arraySet:function(t,e,n,r,i){if(e.subarray&&t.subarray)return void t.set(e.subarray(n,n+r),i);for(var o=0;r>o;o++)t[i+o]=e[n+o]},flattenChunks:function(t){var e,n,r,i,o,a;for(r=0,e=0,n=t.length;n>e;e++)r+=t[e].length;for(a=new Uint8Array(r),i=0,e=0,n=t.length;n>e;e++)o=t[e],a.set(o,i),i+=o.length;return a}},o={arraySet:function(t,e,n,r,i){for(var o=0;r>o;o++)t[i+o]=e[n+o]},flattenChunks:function(t){return[].concat.apply([],t)}};n.setTyped=function(t){t?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(r)},{}],28:[function(t,e,n){"use strict";function r(t,e){if(65537>e&&(t.subarray&&a||!t.subarray&&o))return String.fromCharCode.apply(null,i.shrinkBuf(t,e));for(var n="",r=0;e>r;r++)n+=String.fromCharCode(t[r]);return n}var i=t("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(s){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(s){a=!1}for(var u=new i.Buf8(256),d=0;256>d;d++)u[d]=d>=252?6:d>=248?5:d>=240?4:d>=224?3:d>=192?2:1;u[254]=u[254]=1,n.string2buf=function(t){var e,n,r,o,a,s=t.length,u=0;for(o=0;s>o;o++)n=t.charCodeAt(o),55296===(64512&n)&&s>o+1&&(r=t.charCodeAt(o+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),o++)),u+=128>n?1:2048>n?2:65536>n?3:4;for(e=new i.Buf8(u),a=0,o=0;u>a;o++)n=t.charCodeAt(o),55296===(64512&n)&&s>o+1&&(r=t.charCodeAt(o+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),o++)),128>n?e[a++]=n:2048>n?(e[a++]=192|n>>>6,e[a++]=128|63&n):65536>n?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|63&n):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|63&n);return e},n.buf2binstring=function(t){return r(t,t.length)},n.binstring2buf=function(t){for(var e=new i.Buf8(t.length),n=0,r=e.length;r>n;n++)e[n]=t.charCodeAt(n);return e},n.buf2string=function(t,e){var n,i,o,a,s=e||t.length,d=new Array(2*s);for(i=0,n=0;s>n;)if(o=t[n++],128>o)d[i++]=o;else if(a=u[o],a>4)d[i++]=65533,n+=a-1;else{for(o&=2===a?31:3===a?15:7;a>1&&s>n;)o=o<<6|63&t[n++],a--;a>1?d[i++]=65533:65536>o?d[i++]=o:(o-=65536,d[i++]=55296|o>>10&1023,d[i++]=56320|1023&o)}return r(d,i)},n.utf8border=function(t,e){var n;for(e=e||t.length,e>t.length&&(e=t.length),n=e-1;n>=0&&128===(192&t[n]);)n--;return 0>n?e:0===n?e:n+u[t[n]]>e?n:e}},{"./common":27}],29:[function(t,e,n){"use strict";function r(t,e,n,r){for(var i=65535&t|0,o=t>>>16&65535|0,a=0;0!==n;){a=n>2e3?2e3:n,n-=a;do i=i+e[r++]|0,o=o+i|0;while(--a);i%=65521,o%=65521}return i|o<<16|0}e.exports=r},{}],30:[function(t,e,n){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],31:[function(t,e,n){"use strict";function r(){for(var t,e=[],n=0;256>n;n++){t=n;for(var r=0;8>r;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}function i(t,e,n,r){var i=o,a=r+n;t=-1^t;for(var s=r;a>s;s++)t=t>>>8^i[255&(t^e[s])];return-1^t}var o=r();e.exports=i},{}],32:[function(t,e,n){"use strict";function r(t,e){return t.msg=R[e],e}function i(t){return(t<<1)-(t>4?9:0)}function o(t){for(var e=t.length;--e>=0;)t[e]=0}function a(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(T.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function s(t,e){O._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,a(t.strm)}function u(t,e){t.pending_buf[t.pending++]=e}function d(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function c(t,e,n,r){var i=t.avail_in;return i>r&&(i=r),0===i?0:(t.avail_in-=i,T.arraySet(e,t.input,t.next_in,i,n),1===t.state.wrap?t.adler=I(t.adler,e,i,n):2===t.state.wrap&&(t.adler=L(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)}function h(t,e){var n,r,i=t.max_chain_length,o=t.strstart,a=t.prev_length,s=t.nice_match,u=t.strstart>t.w_size-dt?t.strstart-(t.w_size-dt):0,d=t.window,c=t.w_mask,h=t.prev,l=t.strstart+ut,f=d[o+a-1],p=d[o+a];t.prev_length>=t.good_match&&(i>>=2),s>t.lookahead&&(s=t.lookahead);do if(n=e,d[n+a]===p&&d[n+a-1]===f&&d[n]===d[o]&&d[++n]===d[o+1]){o+=2,n++;do;while(d[++o]===d[++n]&&d[++o]===d[++n]&&d[++o]===d[++n]&&d[++o]===d[++n]&&d[++o]===d[++n]&&d[++o]===d[++n]&&d[++o]===d[++n]&&d[++o]===d[++n]&&l>o);if(r=ut-(l-o),o=l-ut,r>a){if(t.match_start=e,a=r,r>=s)break;f=d[o+a-1],p=d[o+a]}}while((e=h[e&c])>u&&0!==--i);return a<=t.lookahead?a:t.lookahead}function l(t){var e,n,r,i,o,a=t.w_size;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=a+(a-dt)){T.arraySet(t.window,t.window,a,a,0),t.match_start-=a,t.strstart-=a,t.block_start-=a,n=t.hash_size,e=n;do r=t.head[--e],t.head[e]=r>=a?r-a:0;while(--n);n=a,e=n;do r=t.prev[--e],t.prev[e]=r>=a?r-a:0;while(--n);i+=a}if(0===t.strm.avail_in)break;if(n=c(t.strm,t.window,t.strstart+t.lookahead,i),t.lookahead+=n,t.lookahead+t.insert>=st)for(o=t.strstart-t.insert,t.ins_h=t.window[o],t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+st-1])&t.hash_mask,t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,!(t.lookahead+t.insert<st)););}while(t.lookahead<dt&&0!==t.strm.avail_in)}function f(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(l(t),0===t.lookahead&&e===N)return bt;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,s(t,!1),0===t.strm.avail_out))return bt;if(t.strstart-t.block_start>=t.w_size-dt&&(s(t,!1),0===t.strm.avail_out))return bt}return t.insert=0,e===z?(s(t,!0),0===t.strm.avail_out?wt:yt):t.strstart>t.block_start&&(s(t,!1),0===t.strm.avail_out)?bt:bt}function p(t,e){for(var n,r;;){if(t.lookahead<dt){if(l(t),t.lookahead<dt&&e===N)return bt;if(0===t.lookahead)break}if(n=0,t.lookahead>=st&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+st-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-dt&&(t.match_length=h(t,n)),t.match_length>=st)if(r=O._tr_tally(t,t.strstart-t.match_start,t.match_length-st),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=st){t.match_length--;do t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+st-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(0!==--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=O._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(s(t,!1),0===t.strm.avail_out))return bt}return t.insert=t.strstart<st-1?t.strstart:st-1,e===z?(s(t,!0),0===t.strm.avail_out?wt:yt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?bt:vt}function m(t,e){for(var n,r,i;;){if(t.lookahead<dt){if(l(t),t.lookahead<dt&&e===N)return bt;if(0===t.lookahead)break}if(n=0,t.lookahead>=st&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+st-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=st-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-dt&&(t.match_length=h(t,n),t.match_length<=5&&(t.strategy===q||t.match_length===st&&t.strstart-t.match_start>4096)&&(t.match_length=st-1)),t.prev_length>=st&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-st,r=O._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-st),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+st-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(0!==--t.prev_length);if(t.match_available=0,t.match_length=st-1,t.strstart++,r&&(s(t,!1),0===t.strm.avail_out))return bt}else if(t.match_available){if(r=O._tr_tally(t,0,t.window[t.strstart-1]),r&&s(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return bt}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=O._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<st-1?t.strstart:st-1,e===z?(s(t,!0),0===t.strm.avail_out?wt:yt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?bt:vt}function _(t,e){for(var n,r,i,o,a=t.window;;){if(t.lookahead<=ut){if(l(t),t.lookahead<=ut&&e===N)return bt;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=st&&t.strstart>0&&(i=t.strstart-1,r=a[i],r===a[++i]&&r===a[++i]&&r===a[++i])){o=t.strstart+ut;do;while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&o>i);t.match_length=ut-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=st?(n=O._tr_tally(t,1,t.match_length-st),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=O._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(s(t,!1),0===t.strm.avail_out))return bt}return t.insert=0,e===z?(s(t,!0),0===t.strm.avail_out?wt:yt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?bt:vt}function g(t,e){for(var n;;){if(0===t.lookahead&&(l(t),0===t.lookahead)){if(e===N)return bt;break}if(t.match_length=0,n=O._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(s(t,!1),0===t.strm.avail_out))return bt}return t.insert=0,e===z?(s(t,!0),0===t.strm.avail_out?wt:yt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?bt:vt}function b(t){t.window_size=2*t.w_size,o(t.head),t.max_lazy_match=S[t.level].max_lazy,t.good_match=S[t.level].good_length,t.nice_match=S[t.level].nice_length,t.max_chain_length=S[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=st-1,t.match_available=0,t.ins_h=0}function v(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=K,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new T.Buf16(2*ot),this.dyn_dtree=new T.Buf16(2*(2*rt+1)),this.bl_tree=new T.Buf16(2*(2*it+1)),o(this.dyn_ltree),o(this.dyn_dtree),o(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new T.Buf16(at+1),this.heap=new T.Buf16(2*nt+1),o(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new T.Buf16(2*nt+1),o(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function w(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=Y,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?ht:_t,t.adler=2===e.wrap?0:1,e.last_flush=N,O._tr_init(e),P):r(t,j)}function y(t){var e=w(t);return e===P&&b(t.state),e}function E(t,e){return t&&t.state?2!==t.state.wrap?j:(t.state.gzhead=e,P):j}function x(t,e,n,i,o,a){if(!t)return j;var s=1;if(e===Z&&(e=6),0>i?(s=0,i=-i):i>15&&(s=2,i-=16),1>o||o>$||n!==K||8>i||i>15||0>e||e>9||0>a||a>W)return r(t,j);8===i&&(i=9);var u=new v;return t.state=u,u.strm=t,u.wrap=s,u.gzhead=null,u.w_bits=i,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=o+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+st-1)/st),u.window=new T.Buf8(2*u.w_size),u.head=new T.Buf16(u.hash_size),u.prev=new T.Buf16(u.w_size),u.lit_bufsize=1<<o+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new T.Buf8(u.pending_buf_size),u.d_buf=u.lit_bufsize>>1,u.l_buf=3*u.lit_bufsize,u.level=e,u.strategy=a,u.method=n,y(t)}function k(t,e){return x(t,e,K,J,Q,X)}function C(t,e){var n,s,c,h;if(!t||!t.state||e>B||0>e)return t?r(t,j):j;if(s=t.state,!t.output||!t.input&&0!==t.avail_in||s.status===gt&&e!==z)return r(t,0===t.avail_out?H:j);if(s.strm=t,n=s.last_flush,s.last_flush=e,s.status===ht)if(2===s.wrap)t.adler=0,u(s,31),u(s,139),u(s,8),s.gzhead?(u(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),u(s,255&s.gzhead.time),u(s,s.gzhead.time>>8&255),u(s,s.gzhead.time>>16&255),u(s,s.gzhead.time>>24&255),u(s,9===s.level?2:s.strategy>=G||s.level<2?4:0),u(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(u(s,255&s.gzhead.extra.length),u(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(t.adler=L(t.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=lt):(u(s,0),u(s,0),u(s,0),u(s,0),u(s,0),u(s,9===s.level?2:s.strategy>=G||s.level<2?4:0),u(s,Et),s.status=_t);else{var l=K+(s.w_bits-8<<4)<<8,f=-1;f=s.strategy>=G||s.level<2?0:s.level<6?1:6===s.level?2:3,l|=f<<6,0!==s.strstart&&(l|=ct),l+=31-l%31,s.status=_t,d(s,l),0!==s.strstart&&(d(s,t.adler>>>16),d(s,65535&t.adler)),t.adler=1}if(s.status===lt)if(s.gzhead.extra){for(c=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>c&&(t.adler=L(t.adler,s.pending_buf,s.pending-c,c)),a(t),c=s.pending,s.pending!==s.pending_buf_size));)u(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>c&&(t.adler=L(t.adler,s.pending_buf,s.pending-c,c)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=ft)}else s.status=ft;if(s.status===ft)if(s.gzhead.name){c=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>c&&(t.adler=L(t.adler,s.pending_buf,s.pending-c,c)),a(t),c=s.pending,s.pending===s.pending_buf_size)){h=1;break}h=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,u(s,h)}while(0!==h);s.gzhead.hcrc&&s.pending>c&&(t.adler=L(t.adler,s.pending_buf,s.pending-c,c)),0===h&&(s.gzindex=0,s.status=pt)}else s.status=pt;if(s.status===pt)if(s.gzhead.comment){c=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>c&&(t.adler=L(t.adler,s.pending_buf,s.pending-c,c)),a(t),c=s.pending,s.pending===s.pending_buf_size)){h=1;break}h=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,u(s,h)}while(0!==h);s.gzhead.hcrc&&s.pending>c&&(t.adler=L(t.adler,s.pending_buf,s.pending-c,c)),0===h&&(s.status=mt)}else s.status=mt;if(s.status===mt&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&a(t),s.pending+2<=s.pending_buf_size&&(u(s,255&t.adler),u(s,t.adler>>8&255),t.adler=0,s.status=_t)):s.status=_t),0!==s.pending){if(a(t),0===t.avail_out)return s.last_flush=-1,P}else if(0===t.avail_in&&i(e)<=i(n)&&e!==z)return r(t,H);if(s.status===gt&&0!==t.avail_in)return r(t,H);if(0!==t.avail_in||0!==s.lookahead||e!==N&&s.status!==gt){var p=s.strategy===G?g(s,e):s.strategy===V?_(s,e):S[s.level].func(s,e);if((p===wt||p===yt)&&(s.status=gt),p===bt||p===wt)return 0===t.avail_out&&(s.last_flush=-1),P;if(p===vt&&(e===D?O._tr_align(s):e!==B&&(O._tr_stored_block(s,0,0,!1),e===M&&(o(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),a(t),0===t.avail_out))return s.last_flush=-1,P}return e!==z?P:s.wrap<=0?U:(2===s.wrap?(u(s,255&t.adler),u(s,t.adler>>8&255),u(s,t.adler>>16&255),u(s,t.adler>>24&255),u(s,255&t.total_in),u(s,t.total_in>>8&255),u(s,t.total_in>>16&255),u(s,t.total_in>>24&255)):(d(s,t.adler>>>16),d(s,65535&t.adler)),a(t),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?P:U)}function A(t){var e;return t&&t.state?(e=t.state.status,e!==ht&&e!==lt&&e!==ft&&e!==pt&&e!==mt&&e!==_t&&e!==gt?r(t,j):(t.state=null,e===_t?r(t,F):P)):j}var S,T=t("../utils/common"),O=t("./trees"),I=t("./adler32"),L=t("./crc32"),R=t("./messages"),N=0,D=1,M=3,z=4,B=5,P=0,U=1,j=-2,F=-3,H=-5,Z=-1,q=1,G=2,V=3,W=4,X=0,Y=2,K=8,$=9,J=15,Q=8,tt=29,et=256,nt=et+1+tt,rt=30,it=19,ot=2*nt+1,at=15,st=3,ut=258,dt=ut+st+1,ct=32,ht=42,lt=69,ft=73,pt=91,mt=103,_t=113,gt=666,bt=1,vt=2,wt=3,yt=4,Et=3,xt=function(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i};S=[new xt(0,0,0,0,f),new xt(4,4,8,4,p),new xt(4,5,16,8,p),new xt(4,6,32,32,p),new xt(4,4,16,16,m),new xt(8,16,32,32,m),new xt(8,16,128,128,m),new xt(8,32,128,256,m),new xt(32,128,258,1024,m),new xt(32,258,258,4096,m)],n.deflateInit=k,n.deflateInit2=x,n.deflateReset=y,n.deflateResetKeep=w,n.deflateSetHeader=E,n.deflate=C,n.deflateEnd=A,n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":27,"./adler32":29,"./crc32":31,"./messages":37,"./trees":38}],33:[function(t,e,n){"use strict";function r(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}e.exports=r},{}],34:[function(t,e,n){"use strict";var r=30,i=12;e.exports=function(t,e){var n,o,a,s,u,d,c,h,l,f,p,m,_,g,b,v,w,y,E,x,k,C,A,S,T;n=t.state,o=t.next_in,S=t.input,a=o+(t.avail_in-5),s=t.next_out,T=t.output,u=s-(e-t.avail_out),d=s+(t.avail_out-257),c=n.dmax,h=n.wsize,l=n.whave,f=n.wnext,p=n.window,m=n.hold,_=n.bits,g=n.lencode,b=n.distcode,
v=(1<<n.lenbits)-1,w=(1<<n.distbits)-1;t:do{15>_&&(m+=S[o++]<<_,_+=8,m+=S[o++]<<_,_+=8),y=g[m&v];e:for(;;){if(E=y>>>24,m>>>=E,_-=E,E=y>>>16&255,0===E)T[s++]=65535&y;else{if(!(16&E)){if(0===(64&E)){y=g[(65535&y)+(m&(1<<E)-1)];continue e}if(32&E){n.mode=i;break t}t.msg="invalid literal/length code",n.mode=r;break t}x=65535&y,E&=15,E&&(E>_&&(m+=S[o++]<<_,_+=8),x+=m&(1<<E)-1,m>>>=E,_-=E),15>_&&(m+=S[o++]<<_,_+=8,m+=S[o++]<<_,_+=8),y=b[m&w];n:for(;;){if(E=y>>>24,m>>>=E,_-=E,E=y>>>16&255,!(16&E)){if(0===(64&E)){y=b[(65535&y)+(m&(1<<E)-1)];continue n}t.msg="invalid distance code",n.mode=r;break t}if(k=65535&y,E&=15,E>_&&(m+=S[o++]<<_,_+=8,E>_&&(m+=S[o++]<<_,_+=8)),k+=m&(1<<E)-1,k>c){t.msg="invalid distance too far back",n.mode=r;break t}if(m>>>=E,_-=E,E=s-u,k>E){if(E=k-E,E>l&&n.sane){t.msg="invalid distance too far back",n.mode=r;break t}if(C=0,A=p,0===f){if(C+=h-E,x>E){x-=E;do T[s++]=p[C++];while(--E);C=s-k,A=T}}else if(E>f){if(C+=h+f-E,E-=f,x>E){x-=E;do T[s++]=p[C++];while(--E);if(C=0,x>f){E=f,x-=E;do T[s++]=p[C++];while(--E);C=s-k,A=T}}}else if(C+=f-E,x>E){x-=E;do T[s++]=p[C++];while(--E);C=s-k,A=T}for(;x>2;)T[s++]=A[C++],T[s++]=A[C++],T[s++]=A[C++],x-=3;x&&(T[s++]=A[C++],x>1&&(T[s++]=A[C++]))}else{C=s-k;do T[s++]=T[C++],T[s++]=T[C++],T[s++]=T[C++],x-=3;while(x>2);x&&(T[s++]=T[C++],x>1&&(T[s++]=T[C++]))}break}}break}}while(a>o&&d>s);x=_>>3,o-=x,_-=x<<3,m&=(1<<_)-1,t.next_in=o,t.next_out=s,t.avail_in=a>o?5+(a-o):5-(o-a),t.avail_out=d>s?257+(d-s):257-(s-d),n.hold=m,n.bits=_}},{}],35:[function(t,e,n){"use strict";function r(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function i(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new g.Buf16(320),this.work=new g.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function o(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=z,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new g.Buf32(pt),e.distcode=e.distdyn=new g.Buf32(mt),e.sane=1,e.back=-1,T):L}function a(t){var e;return t&&t.state?(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,o(t)):L}function s(t,e){var n,r;return t&&t.state?(r=t.state,0>e?(n=0,e=-e):(n=(e>>4)+1,48>e&&(e&=15)),e&&(8>e||e>15)?L:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,a(t))):L}function u(t,e){var n,r;return t?(r=new i,t.state=r,r.window=null,n=s(t,e),n!==T&&(t.state=null),n):L}function d(t){return u(t,gt)}function c(t){if(bt){var e;for(m=new g.Buf32(512),_=new g.Buf32(32),e=0;144>e;)t.lens[e++]=8;for(;256>e;)t.lens[e++]=9;for(;280>e;)t.lens[e++]=7;for(;288>e;)t.lens[e++]=8;for(y(x,t.lens,0,288,m,0,t.work,{bits:9}),e=0;32>e;)t.lens[e++]=5;y(k,t.lens,0,32,_,0,t.work,{bits:5}),bt=!1}t.lencode=m,t.lenbits=9,t.distcode=_,t.distbits=5}function h(t,e,n,r){var i,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new g.Buf8(o.wsize)),r>=o.wsize?(g.arraySet(o.window,e,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),g.arraySet(o.window,e,n-r,i,o.wnext),r-=i,r?(g.arraySet(o.window,e,n-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}function l(t,e){var n,i,o,a,s,u,d,l,f,p,m,_,pt,mt,_t,gt,bt,vt,wt,yt,Et,xt,kt,Ct,At=0,St=new g.Buf8(4),Tt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return L;n=t.state,n.mode===W&&(n.mode=X),s=t.next_out,o=t.output,d=t.avail_out,a=t.next_in,i=t.input,u=t.avail_in,l=n.hold,f=n.bits,p=u,m=d,xt=T;t:for(;;)switch(n.mode){case z:if(0===n.wrap){n.mode=X;break}for(;16>f;){if(0===u)break t;u--,l+=i[a++]<<f,f+=8}if(2&n.wrap&&35615===l){n.check=0,St[0]=255&l,St[1]=l>>>8&255,n.check=v(n.check,St,2,0),l=0,f=0,n.mode=B;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&l)<<8)+(l>>8))%31){t.msg="incorrect header check",n.mode=ht;break}if((15&l)!==M){t.msg="unknown compression method",n.mode=ht;break}if(l>>>=4,f-=4,Et=(15&l)+8,0===n.wbits)n.wbits=Et;else if(Et>n.wbits){t.msg="invalid window size",n.mode=ht;break}n.dmax=1<<Et,t.adler=n.check=1,n.mode=512&l?G:W,l=0,f=0;break;case B:for(;16>f;){if(0===u)break t;u--,l+=i[a++]<<f,f+=8}if(n.flags=l,(255&n.flags)!==M){t.msg="unknown compression method",n.mode=ht;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=ht;break}n.head&&(n.head.text=l>>8&1),512&n.flags&&(St[0]=255&l,St[1]=l>>>8&255,n.check=v(n.check,St,2,0)),l=0,f=0,n.mode=P;case P:for(;32>f;){if(0===u)break t;u--,l+=i[a++]<<f,f+=8}n.head&&(n.head.time=l),512&n.flags&&(St[0]=255&l,St[1]=l>>>8&255,St[2]=l>>>16&255,St[3]=l>>>24&255,n.check=v(n.check,St,4,0)),l=0,f=0,n.mode=U;case U:for(;16>f;){if(0===u)break t;u--,l+=i[a++]<<f,f+=8}n.head&&(n.head.xflags=255&l,n.head.os=l>>8),512&n.flags&&(St[0]=255&l,St[1]=l>>>8&255,n.check=v(n.check,St,2,0)),l=0,f=0,n.mode=j;case j:if(1024&n.flags){for(;16>f;){if(0===u)break t;u--,l+=i[a++]<<f,f+=8}n.length=l,n.head&&(n.head.extra_len=l),512&n.flags&&(St[0]=255&l,St[1]=l>>>8&255,n.check=v(n.check,St,2,0)),l=0,f=0}else n.head&&(n.head.extra=null);n.mode=F;case F:if(1024&n.flags&&(_=n.length,_>u&&(_=u),_&&(n.head&&(Et=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),g.arraySet(n.head.extra,i,a,_,Et)),512&n.flags&&(n.check=v(n.check,i,_,a)),u-=_,a+=_,n.length-=_),n.length))break t;n.length=0,n.mode=H;case H:if(2048&n.flags){if(0===u)break t;_=0;do Et=i[a+_++],n.head&&Et&&n.length<65536&&(n.head.name+=String.fromCharCode(Et));while(Et&&u>_);if(512&n.flags&&(n.check=v(n.check,i,_,a)),u-=_,a+=_,Et)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=Z;case Z:if(4096&n.flags){if(0===u)break t;_=0;do Et=i[a+_++],n.head&&Et&&n.length<65536&&(n.head.comment+=String.fromCharCode(Et));while(Et&&u>_);if(512&n.flags&&(n.check=v(n.check,i,_,a)),u-=_,a+=_,Et)break t}else n.head&&(n.head.comment=null);n.mode=q;case q:if(512&n.flags){for(;16>f;){if(0===u)break t;u--,l+=i[a++]<<f,f+=8}if(l!==(65535&n.check)){t.msg="header crc mismatch",n.mode=ht;break}l=0,f=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=W;break;case G:for(;32>f;){if(0===u)break t;u--,l+=i[a++]<<f,f+=8}t.adler=n.check=r(l),l=0,f=0,n.mode=V;case V:if(0===n.havedict)return t.next_out=s,t.avail_out=d,t.next_in=a,t.avail_in=u,n.hold=l,n.bits=f,I;t.adler=n.check=1,n.mode=W;case W:if(e===A||e===S)break t;case X:if(n.last){l>>>=7&f,f-=7&f,n.mode=ut;break}for(;3>f;){if(0===u)break t;u--,l+=i[a++]<<f,f+=8}switch(n.last=1&l,l>>>=1,f-=1,3&l){case 0:n.mode=Y;break;case 1:if(c(n),n.mode=et,e===S){l>>>=2,f-=2;break t}break;case 2:n.mode=J;break;case 3:t.msg="invalid block type",n.mode=ht}l>>>=2,f-=2;break;case Y:for(l>>>=7&f,f-=7&f;32>f;){if(0===u)break t;u--,l+=i[a++]<<f,f+=8}if((65535&l)!==(l>>>16^65535)){t.msg="invalid stored block lengths",n.mode=ht;break}if(n.length=65535&l,l=0,f=0,n.mode=K,e===S)break t;case K:n.mode=$;case $:if(_=n.length){if(_>u&&(_=u),_>d&&(_=d),0===_)break t;g.arraySet(o,i,a,_,s),u-=_,a+=_,d-=_,s+=_,n.length-=_;break}n.mode=W;break;case J:for(;14>f;){if(0===u)break t;u--,l+=i[a++]<<f,f+=8}if(n.nlen=(31&l)+257,l>>>=5,f-=5,n.ndist=(31&l)+1,l>>>=5,f-=5,n.ncode=(15&l)+4,l>>>=4,f-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=ht;break}n.have=0,n.mode=Q;case Q:for(;n.have<n.ncode;){for(;3>f;){if(0===u)break t;u--,l+=i[a++]<<f,f+=8}n.lens[Tt[n.have++]]=7&l,l>>>=3,f-=3}for(;n.have<19;)n.lens[Tt[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,kt={bits:n.lenbits},xt=y(E,n.lens,0,19,n.lencode,0,n.work,kt),n.lenbits=kt.bits,xt){t.msg="invalid code lengths set",n.mode=ht;break}n.have=0,n.mode=tt;case tt:for(;n.have<n.nlen+n.ndist;){for(;At=n.lencode[l&(1<<n.lenbits)-1],_t=At>>>24,gt=At>>>16&255,bt=65535&At,!(f>=_t);){if(0===u)break t;u--,l+=i[a++]<<f,f+=8}if(16>bt)l>>>=_t,f-=_t,n.lens[n.have++]=bt;else{if(16===bt){for(Ct=_t+2;Ct>f;){if(0===u)break t;u--,l+=i[a++]<<f,f+=8}if(l>>>=_t,f-=_t,0===n.have){t.msg="invalid bit length repeat",n.mode=ht;break}Et=n.lens[n.have-1],_=3+(3&l),l>>>=2,f-=2}else if(17===bt){for(Ct=_t+3;Ct>f;){if(0===u)break t;u--,l+=i[a++]<<f,f+=8}l>>>=_t,f-=_t,Et=0,_=3+(7&l),l>>>=3,f-=3}else{for(Ct=_t+7;Ct>f;){if(0===u)break t;u--,l+=i[a++]<<f,f+=8}l>>>=_t,f-=_t,Et=0,_=11+(127&l),l>>>=7,f-=7}if(n.have+_>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=ht;break}for(;_--;)n.lens[n.have++]=Et}}if(n.mode===ht)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=ht;break}if(n.lenbits=9,kt={bits:n.lenbits},xt=y(x,n.lens,0,n.nlen,n.lencode,0,n.work,kt),n.lenbits=kt.bits,xt){t.msg="invalid literal/lengths set",n.mode=ht;break}if(n.distbits=6,n.distcode=n.distdyn,kt={bits:n.distbits},xt=y(k,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,kt),n.distbits=kt.bits,xt){t.msg="invalid distances set",n.mode=ht;break}if(n.mode=et,e===S)break t;case et:n.mode=nt;case nt:if(u>=6&&d>=258){t.next_out=s,t.avail_out=d,t.next_in=a,t.avail_in=u,n.hold=l,n.bits=f,w(t,m),s=t.next_out,o=t.output,d=t.avail_out,a=t.next_in,i=t.input,u=t.avail_in,l=n.hold,f=n.bits,n.mode===W&&(n.back=-1);break}for(n.back=0;At=n.lencode[l&(1<<n.lenbits)-1],_t=At>>>24,gt=At>>>16&255,bt=65535&At,!(f>=_t);){if(0===u)break t;u--,l+=i[a++]<<f,f+=8}if(gt&&0===(240&gt)){for(vt=_t,wt=gt,yt=bt;At=n.lencode[yt+((l&(1<<vt+wt)-1)>>vt)],_t=At>>>24,gt=At>>>16&255,bt=65535&At,!(f>=vt+_t);){if(0===u)break t;u--,l+=i[a++]<<f,f+=8}l>>>=vt,f-=vt,n.back+=vt}if(l>>>=_t,f-=_t,n.back+=_t,n.length=bt,0===gt){n.mode=st;break}if(32&gt){n.back=-1,n.mode=W;break}if(64&gt){t.msg="invalid literal/length code",n.mode=ht;break}n.extra=15&gt,n.mode=rt;case rt:if(n.extra){for(Ct=n.extra;Ct>f;){if(0===u)break t;u--,l+=i[a++]<<f,f+=8}n.length+=l&(1<<n.extra)-1,l>>>=n.extra,f-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=it;case it:for(;At=n.distcode[l&(1<<n.distbits)-1],_t=At>>>24,gt=At>>>16&255,bt=65535&At,!(f>=_t);){if(0===u)break t;u--,l+=i[a++]<<f,f+=8}if(0===(240&gt)){for(vt=_t,wt=gt,yt=bt;At=n.distcode[yt+((l&(1<<vt+wt)-1)>>vt)],_t=At>>>24,gt=At>>>16&255,bt=65535&At,!(f>=vt+_t);){if(0===u)break t;u--,l+=i[a++]<<f,f+=8}l>>>=vt,f-=vt,n.back+=vt}if(l>>>=_t,f-=_t,n.back+=_t,64&gt){t.msg="invalid distance code",n.mode=ht;break}n.offset=bt,n.extra=15&gt,n.mode=ot;case ot:if(n.extra){for(Ct=n.extra;Ct>f;){if(0===u)break t;u--,l+=i[a++]<<f,f+=8}n.offset+=l&(1<<n.extra)-1,l>>>=n.extra,f-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=ht;break}n.mode=at;case at:if(0===d)break t;if(_=m-d,n.offset>_){if(_=n.offset-_,_>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=ht;break}_>n.wnext?(_-=n.wnext,pt=n.wsize-_):pt=n.wnext-_,_>n.length&&(_=n.length),mt=n.window}else mt=o,pt=s-n.offset,_=n.length;_>d&&(_=d),d-=_,n.length-=_;do o[s++]=mt[pt++];while(--_);0===n.length&&(n.mode=nt);break;case st:if(0===d)break t;o[s++]=n.length,d--,n.mode=nt;break;case ut:if(n.wrap){for(;32>f;){if(0===u)break t;u--,l|=i[a++]<<f,f+=8}if(m-=d,t.total_out+=m,n.total+=m,m&&(t.adler=n.check=n.flags?v(n.check,o,m,s-m):b(n.check,o,m,s-m)),m=d,(n.flags?l:r(l))!==n.check){t.msg="incorrect data check",n.mode=ht;break}l=0,f=0}n.mode=dt;case dt:if(n.wrap&&n.flags){for(;32>f;){if(0===u)break t;u--,l+=i[a++]<<f,f+=8}if(l!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=ht;break}l=0,f=0}n.mode=ct;case ct:xt=O;break t;case ht:xt=R;break t;case lt:return N;case ft:default:return L}return t.next_out=s,t.avail_out=d,t.next_in=a,t.avail_in=u,n.hold=l,n.bits=f,(n.wsize||m!==t.avail_out&&n.mode<ht&&(n.mode<ut||e!==C))&&h(t,t.output,t.next_out,m-t.avail_out)?(n.mode=lt,N):(p-=t.avail_in,m-=t.avail_out,t.total_in+=p,t.total_out+=m,n.total+=m,n.wrap&&m&&(t.adler=n.check=n.flags?v(n.check,o,m,t.next_out-m):b(n.check,o,m,t.next_out-m)),t.data_type=n.bits+(n.last?64:0)+(n.mode===W?128:0)+(n.mode===et||n.mode===K?256:0),(0===p&&0===m||e===C)&&xt===T&&(xt=D),xt)}function f(t){if(!t||!t.state)return L;var e=t.state;return e.window&&(e.window=null),t.state=null,T}function p(t,e){var n;return t&&t.state?(n=t.state,0===(2&n.wrap)?L:(n.head=e,e.done=!1,T)):L}var m,_,g=t("../utils/common"),b=t("./adler32"),v=t("./crc32"),w=t("./inffast"),y=t("./inftrees"),E=0,x=1,k=2,C=4,A=5,S=6,T=0,O=1,I=2,L=-2,R=-3,N=-4,D=-5,M=8,z=1,B=2,P=3,U=4,j=5,F=6,H=7,Z=8,q=9,G=10,V=11,W=12,X=13,Y=14,K=15,$=16,J=17,Q=18,tt=19,et=20,nt=21,rt=22,it=23,ot=24,at=25,st=26,ut=27,dt=28,ct=29,ht=30,lt=31,ft=32,pt=852,mt=592,_t=15,gt=_t,bt=!0;n.inflateReset=a,n.inflateReset2=s,n.inflateResetKeep=o,n.inflateInit=d,n.inflateInit2=u,n.inflate=l,n.inflateEnd=f,n.inflateGetHeader=p,n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":27,"./adler32":29,"./crc32":31,"./inffast":34,"./inftrees":36}],36:[function(t,e,n){"use strict";var r=t("../utils/common"),i=15,o=852,a=592,s=0,u=1,d=2,c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,n,p,m,_,g,b){var v,w,y,E,x,k,C,A,S,T=b.bits,O=0,I=0,L=0,R=0,N=0,D=0,M=0,z=0,B=0,P=0,U=null,j=0,F=new r.Buf16(i+1),H=new r.Buf16(i+1),Z=null,q=0;for(O=0;i>=O;O++)F[O]=0;for(I=0;p>I;I++)F[e[n+I]]++;for(N=T,R=i;R>=1&&0===F[R];R--);if(N>R&&(N=R),0===R)return m[_++]=20971520,m[_++]=20971520,b.bits=1,0;for(L=1;R>L&&0===F[L];L++);for(L>N&&(N=L),z=1,O=1;i>=O;O++)if(z<<=1,z-=F[O],0>z)return-1;if(z>0&&(t===s||1!==R))return-1;for(H[1]=0,O=1;i>O;O++)H[O+1]=H[O]+F[O];for(I=0;p>I;I++)0!==e[n+I]&&(g[H[e[n+I]]++]=I);if(t===s?(U=Z=g,k=19):t===u?(U=c,j-=257,Z=h,q-=257,k=256):(U=l,Z=f,k=-1),P=0,I=0,O=L,x=_,D=N,M=0,y=-1,B=1<<N,E=B-1,t===u&&B>o||t===d&&B>a)return 1;for(var G=0;;){G++,C=O-M,g[I]<k?(A=0,S=g[I]):g[I]>k?(A=Z[q+g[I]],S=U[j+g[I]]):(A=96,S=0),v=1<<O-M,w=1<<D,L=w;do w-=v,m[x+(P>>M)+w]=C<<24|A<<16|S|0;while(0!==w);for(v=1<<O-1;P&v;)v>>=1;if(0!==v?(P&=v-1,P+=v):P=0,I++,0===--F[O]){if(O===R)break;O=e[n+g[I]]}if(O>N&&(P&E)!==y){for(0===M&&(M=N),x+=L,D=O-M,z=1<<D;R>D+M&&(z-=F[D+M],!(0>=z));)D++,z<<=1;if(B+=1<<D,t===u&&B>o||t===d&&B>a)return 1;y=P&E,m[y]=N<<24|D<<16|x-_|0}}return 0!==P&&(m[x+P]=O-M<<24|64<<16|0),b.bits=N,0}},{"../utils/common":27}],37:[function(t,e,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],38:[function(t,e,n){"use strict";function r(t){for(var e=t.length;--e>=0;)t[e]=0}function i(t){return 256>t?at[t]:at[256+(t>>>7)]}function o(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function a(t,e,n){t.bi_valid>W-n?(t.bi_buf|=e<<t.bi_valid&65535,o(t,t.bi_buf),t.bi_buf=e>>W-t.bi_valid,t.bi_valid+=n-W):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function s(t,e,n){a(t,n[2*e],n[2*e+1])}function u(t,e){var n=0;do n|=1&t,t>>>=1,n<<=1;while(--e>0);return n>>>1}function d(t){16===t.bi_valid?(o(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}function c(t,e){var n,r,i,o,a,s,u=e.dyn_tree,d=e.max_code,c=e.stat_desc.static_tree,h=e.stat_desc.has_stree,l=e.stat_desc.extra_bits,f=e.stat_desc.extra_base,p=e.stat_desc.max_length,m=0;for(o=0;V>=o;o++)t.bl_count[o]=0;for(u[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;G>n;n++)r=t.heap[n],o=u[2*u[2*r+1]+1]+1,o>p&&(o=p,m++),u[2*r+1]=o,r>d||(t.bl_count[o]++,a=0,r>=f&&(a=l[r-f]),s=u[2*r],t.opt_len+=s*(o+a),h&&(t.static_len+=s*(c[2*r+1]+a)));if(0!==m){do{for(o=p-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[p]--,m-=2}while(m>0);for(o=p;0!==o;o--)for(r=t.bl_count[o];0!==r;)i=t.heap[--n],i>d||(u[2*i+1]!==o&&(t.opt_len+=(o-u[2*i+1])*u[2*i],u[2*i+1]=o),r--)}}function h(t,e,n){var r,i,o=new Array(V+1),a=0;for(r=1;V>=r;r++)o[r]=a=a+n[r-1]<<1;for(i=0;e>=i;i++){var s=t[2*i+1];0!==s&&(t[2*i]=u(o[s]++,s))}}function l(){var t,e,n,r,i,o=new Array(V+1);for(n=0,r=0;j-1>r;r++)for(ut[r]=n,t=0;t<1<<Q[r];t++)st[n++]=r;for(st[n-1]=r,i=0,r=0;16>r;r++)for(dt[r]=i,t=0;t<1<<tt[r];t++)at[i++]=r;for(i>>=7;Z>r;r++)for(dt[r]=i<<7,t=0;t<1<<tt[r]-7;t++)at[256+i++]=r;for(e=0;V>=e;e++)o[e]=0;for(t=0;143>=t;)it[2*t+1]=8,t++,o[8]++;for(;255>=t;)it[2*t+1]=9,t++,o[9]++;for(;279>=t;)it[2*t+1]=7,t++,o[7]++;for(;287>=t;)it[2*t+1]=8,t++,o[8]++;for(h(it,H+1,o),t=0;Z>t;t++)ot[2*t+1]=5,ot[2*t]=u(t,5);ct=new ft(it,Q,F+1,H,V),ht=new ft(ot,tt,0,Z,V),lt=new ft(new Array(0),et,0,q,X)}function f(t){var e;for(e=0;H>e;e++)t.dyn_ltree[2*e]=0;for(e=0;Z>e;e++)t.dyn_dtree[2*e]=0;for(e=0;q>e;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*Y]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function p(t){t.bi_valid>8?o(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function m(t,e,n,r){p(t),r&&(o(t,n),o(t,~n)),I.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}function _(t,e,n,r){var i=2*e,o=2*n;return t[i]<t[o]||t[i]===t[o]&&r[e]<=r[n]}function g(t,e,n){for(var r=t.heap[n],i=n<<1;i<=t.heap_len&&(i<t.heap_len&&_(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!_(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r}function b(t,e,n){var r,o,u,d,c=0;if(0!==t.last_lit)do r=t.pending_buf[t.d_buf+2*c]<<8|t.pending_buf[t.d_buf+2*c+1],o=t.pending_buf[t.l_buf+c],c++,0===r?s(t,o,e):(u=st[o],s(t,u+F+1,e),d=Q[u],0!==d&&(o-=ut[u],a(t,o,d)),r--,u=i(r),s(t,u,n),d=tt[u],0!==d&&(r-=dt[u],a(t,r,d)));while(c<t.last_lit);s(t,Y,e)}function v(t,e){var n,r,i,o=e.dyn_tree,a=e.stat_desc.static_tree,s=e.stat_desc.has_stree,u=e.stat_desc.elems,d=-1;for(t.heap_len=0,t.heap_max=G,n=0;u>n;n++)0!==o[2*n]?(t.heap[++t.heap_len]=d=n,t.depth[n]=0):o[2*n+1]=0;for(;t.heap_len<2;)i=t.heap[++t.heap_len]=2>d?++d:0,o[2*i]=1,t.depth[i]=0,t.opt_len--,s&&(t.static_len-=a[2*i+1]);for(e.max_code=d,n=t.heap_len>>1;n>=1;n--)g(t,o,n);i=u;do n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],g(t,o,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,o[2*i]=o[2*n]+o[2*r],t.depth[i]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,o[2*n+1]=o[2*r+1]=i,t.heap[1]=i++,g(t,o,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],c(t,e),h(o,d,t.bl_count)}function w(t,e,n){var r,i,o=-1,a=e[1],s=0,u=7,d=4;for(0===a&&(u=138,d=3),e[2*(n+1)+1]=65535,r=0;n>=r;r++)i=a,a=e[2*(r+1)+1],++s<u&&i===a||(d>s?t.bl_tree[2*i]+=s:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[2*K]++):10>=s?t.bl_tree[2*$]++:t.bl_tree[2*J]++,s=0,o=i,0===a?(u=138,d=3):i===a?(u=6,d=3):(u=7,d=4))}function y(t,e,n){var r,i,o=-1,u=e[1],d=0,c=7,h=4;for(0===u&&(c=138,h=3),r=0;n>=r;r++)if(i=u,u=e[2*(r+1)+1],!(++d<c&&i===u)){if(h>d){do s(t,i,t.bl_tree);while(0!==--d)}else 0!==i?(i!==o&&(s(t,i,t.bl_tree),d--),s(t,K,t.bl_tree),a(t,d-3,2)):10>=d?(s(t,$,t.bl_tree),a(t,d-3,3)):(s(t,J,t.bl_tree),a(t,d-11,7));d=0,o=i,0===u?(c=138,h=3):i===u?(c=6,h=3):(c=7,h=4)}}function E(t){var e;for(w(t,t.dyn_ltree,t.l_desc.max_code),w(t,t.dyn_dtree,t.d_desc.max_code),v(t,t.bl_desc),e=q-1;e>=3&&0===t.bl_tree[2*nt[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}function x(t,e,n,r){var i;for(a(t,e-257,5),a(t,n-1,5),a(t,r-4,4),i=0;r>i;i++)a(t,t.bl_tree[2*nt[i]+1],3);y(t,t.dyn_ltree,e-1),y(t,t.dyn_dtree,n-1)}function k(t){var e,n=4093624447;for(e=0;31>=e;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return R;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return N;for(e=32;F>e;e++)if(0!==t.dyn_ltree[2*e])return N;return R}function C(t){mt||(l(),mt=!0),t.l_desc=new pt(t.dyn_ltree,ct),t.d_desc=new pt(t.dyn_dtree,ht),t.bl_desc=new pt(t.bl_tree,lt),t.bi_buf=0,t.bi_valid=0,f(t)}function A(t,e,n,r){a(t,(M<<1)+(r?1:0),3),m(t,e,n,!0)}function S(t){a(t,z<<1,3),s(t,Y,it),d(t)}function T(t,e,n,r){var i,o,s=0;t.level>0?(t.strm.data_type===D&&(t.strm.data_type=k(t)),v(t,t.l_desc),v(t,t.d_desc),s=E(t),i=t.opt_len+3+7>>>3,o=t.static_len+3+7>>>3,i>=o&&(i=o)):i=o=n+5,i>=n+4&&-1!==e?A(t,e,n,r):t.strategy===L||o===i?(a(t,(z<<1)+(r?1:0),3),b(t,it,ot)):(a(t,(B<<1)+(r?1:0),3),x(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),b(t,t.dyn_ltree,t.dyn_dtree)),f(t),r&&p(t)}function O(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(st[n]+F+1)]++,t.dyn_dtree[2*i(e)]++),t.last_lit===t.lit_bufsize-1}var I=t("../utils/common"),L=4,R=0,N=1,D=2,M=0,z=1,B=2,P=3,U=258,j=29,F=256,H=F+1+j,Z=30,q=19,G=2*H+1,V=15,W=16,X=7,Y=256,K=16,$=17,J=18,Q=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],tt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],et=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],nt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],rt=512,it=new Array(2*(H+2));r(it);var ot=new Array(2*Z);r(ot);var at=new Array(rt);r(at);var st=new Array(U-P+1);r(st);var ut=new Array(j);r(ut);var dt=new Array(Z);r(dt);var ct,ht,lt,ft=function(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length},pt=function(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e},mt=!1;n._tr_init=C,n._tr_stored_block=A,n._tr_flush_block=T,n._tr_tally=O,n._tr_align=S},{"../utils/common":27}],39:[function(t,e,n){"use strict";function r(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}e.exports=r},{}]},{},[9])(9)}),t()}(),function(){var t=System.get("@@amd-helpers").createDefine();!function(t){if("object"==typeof exports)module.exports=t();else if("function"==typeof define&&define.amd)define("github:satazor/sparkmd5@1.0.0/spark-md5",[],t);else{var e;try{e=window}catch(n){e=self}e.SparkMD5=t()}}(function(t){"use strict";function e(t,e,n,r,i,o){return e=b(b(e,t),b(r,o)),b(e<<i|e>>>32-i,n)}function n(t,n,r,i,o,a,s){return e(n&r|~n&i,t,n,o,a,s)}function r(t,n,r,i,o,a,s){return e(n&i|r&~i,t,n,o,a,s)}function i(t,n,r,i,o,a,s){return e(n^r^i,t,n,o,a,s)}function o(t,n,r,i,o,a,s){return e(r^(n|~i),t,n,o,a,s)}function a(t,e){var a=t[0],s=t[1],u=t[2],d=t[3];a=n(a,s,u,d,e[0],7,-680876936),d=n(d,a,s,u,e[1],12,-389564586),u=n(u,d,a,s,e[2],17,606105819),s=n(s,u,d,a,e[3],22,-1044525330),a=n(a,s,u,d,e[4],7,-176418897),d=n(d,a,s,u,e[5],12,1200080426),u=n(u,d,a,s,e[6],17,-1473231341),s=n(s,u,d,a,e[7],22,-45705983),a=n(a,s,u,d,e[8],7,1770035416),d=n(d,a,s,u,e[9],12,-1958414417),u=n(u,d,a,s,e[10],17,-42063),s=n(s,u,d,a,e[11],22,-1990404162),a=n(a,s,u,d,e[12],7,1804603682),d=n(d,a,s,u,e[13],12,-40341101),u=n(u,d,a,s,e[14],17,-1502002290),s=n(s,u,d,a,e[15],22,1236535329),a=r(a,s,u,d,e[1],5,-165796510),d=r(d,a,s,u,e[6],9,-1069501632),u=r(u,d,a,s,e[11],14,643717713),s=r(s,u,d,a,e[0],20,-373897302),a=r(a,s,u,d,e[5],5,-701558691),d=r(d,a,s,u,e[10],9,38016083),u=r(u,d,a,s,e[15],14,-660478335),s=r(s,u,d,a,e[4],20,-405537848),a=r(a,s,u,d,e[9],5,568446438),d=r(d,a,s,u,e[14],9,-1019803690),u=r(u,d,a,s,e[3],14,-187363961),s=r(s,u,d,a,e[8],20,1163531501),a=r(a,s,u,d,e[13],5,-1444681467),d=r(d,a,s,u,e[2],9,-51403784),u=r(u,d,a,s,e[7],14,1735328473),s=r(s,u,d,a,e[12],20,-1926607734),a=i(a,s,u,d,e[5],4,-378558),d=i(d,a,s,u,e[8],11,-2022574463),u=i(u,d,a,s,e[11],16,1839030562),s=i(s,u,d,a,e[14],23,-35309556),a=i(a,s,u,d,e[1],4,-1530992060),d=i(d,a,s,u,e[4],11,1272893353),u=i(u,d,a,s,e[7],16,-155497632),s=i(s,u,d,a,e[10],23,-1094730640),a=i(a,s,u,d,e[13],4,681279174),d=i(d,a,s,u,e[0],11,-358537222),u=i(u,d,a,s,e[3],16,-722521979),s=i(s,u,d,a,e[6],23,76029189),a=i(a,s,u,d,e[9],4,-640364487),d=i(d,a,s,u,e[12],11,-421815835),u=i(u,d,a,s,e[15],16,530742520),s=i(s,u,d,a,e[2],23,-995338651),a=o(a,s,u,d,e[0],6,-198630844),d=o(d,a,s,u,e[7],10,1126891415),u=o(u,d,a,s,e[14],15,-1416354905),s=o(s,u,d,a,e[5],21,-57434055),a=o(a,s,u,d,e[12],6,1700485571),d=o(d,a,s,u,e[3],10,-1894986606),u=o(u,d,a,s,e[10],15,-1051523),s=o(s,u,d,a,e[1],21,-2054922799),a=o(a,s,u,d,e[8],6,1873313359),d=o(d,a,s,u,e[15],10,-30611744),u=o(u,d,a,s,e[6],15,-1560198380),s=o(s,u,d,a,e[13],21,1309151649),a=o(a,s,u,d,e[4],6,-145523070),d=o(d,a,s,u,e[11],10,-1120210379),u=o(u,d,a,s,e[2],15,718787259),s=o(s,u,d,a,e[9],21,-343485551),t[0]=b(a,t[0]),t[1]=b(s,t[1]),t[2]=b(u,t[2]),t[3]=b(d,t[3])}function s(t){var e,n=[];for(e=0;64>e;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}function u(t){var e,n=[];for(e=0;64>e;e+=4)n[e>>2]=t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24);return n}function d(t){var e,n,r,i,o,u,d=t.length,c=[1732584193,-271733879,-1732584194,271733878];for(e=64;d>=e;e+=64)a(c,s(t.substring(e-64,e)));for(t=t.substring(e-64),n=t.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;n>e;e+=1)r[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(a(c,r),e=0;16>e;e+=1)r[e]=0;return i=8*d,i=i.toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(i[2],16),u=parseInt(i[1],16)||0,r[14]=o,r[15]=u,a(c,r),c}function c(t){var e,n,r,i,o,s,d=t.length,c=[1732584193,-271733879,-1732584194,271733878];for(e=64;d>=e;e+=64)a(c,u(t.subarray(e-64,e)));for(t=d>e-64?t.subarray(e-64):new Uint8Array(0),n=t.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;n>e;e+=1)r[e>>2]|=t[e]<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(a(c,r),e=0;16>e;e+=1)r[e]=0;return i=8*d,i=i.toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(i[2],16),s=parseInt(i[1],16)||0,r[14]=o,r[15]=s,a(c,r),c}function h(t){var e,n="";for(e=0;4>e;e+=1)n+=v[t>>8*e+4&15]+v[t>>8*e&15];return n}function l(t){var e;for(e=0;e<t.length;e+=1)t[e]=h(t[e]);return t.join("")}function f(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),t}function p(t,e){var n,r=t.length,i=new ArrayBuffer(r),o=new Uint8Array(i);for(n=0;r>n;n++)o[n]=t.charCodeAt(n);return e?o:i}function m(t){return String.fromCharCode.apply(null,new Uint8Array(t))}function _(t,e,n){var r=new Uint8Array(t.byteLength+e.byteLength);return r.set(new Uint8Array(t)),r.set(new Uint8Array(e),t.byteLength),n?r:r.buffer}function g(){this.reset()}var b=function(t,e){return t+e&4294967295},v=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];return"5d41402abc4b2a76b9719d911017c592"!==l(d("hello"))&&(b=function(t,e){var n=(65535&t)+(65535&e),r=(t>>16)+(e>>16)+(n>>16);return r<<16|65535&n}),g.prototype.append=function(t){return this.appendBinary(f(t)),this},g.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var e,n=this._buff.length;for(e=64;n>=e;e+=64)a(this._hash,s(this._buff.substring(e-64,e)));return this._buff=this._buff.substring(e-64),this},g.prototype.end=function(t){var e,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;i>e;e+=1)o[e>>2]|=r.charCodeAt(e)<<(e%4<<3);return this._finish(o,i),n=t?this._hash:l(this._hash),this.reset(),n},g.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},g.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},g.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,this._hash=t.hash,this},g.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},g.prototype._finish=function(t,e){var n,r,i,o=e;if(t[o>>2]|=128<<(o%4<<3),o>55)for(a(this._hash,t),o=0;16>o;o+=1)t[o]=0;n=8*this._length,n=n.toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(n[2],16),i=parseInt(n[1],16)||0,t[14]=r,t[15]=i,a(this._hash,t)},g.hash=function(t,e){return g.hashBinary(f(t),e)},g.hashBinary=function(t,e){var n=d(t);return e?n:l(n)},g.ArrayBuffer=function(){this.reset()},g.ArrayBuffer.prototype.append=function(t){var e,n=_(this._buff.buffer,t,!0),r=n.length;for(this._length+=t.byteLength,e=64;r>=e;e+=64)a(this._hash,u(n.subarray(e-64,e)));return this._buff=r>e-64?n.subarray(e-64):new Uint8Array(0),this},g.ArrayBuffer.prototype.end=function(t){var e,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;i>e;e+=1)o[e>>2]|=r[e]<<(e%4<<3);return this._finish(o,i),n=t?this._hash:l(this._hash),this.reset(),n},g.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},g.ArrayBuffer.prototype.getState=function(){var t=g.prototype.getState.call(this);return t.buff=m(t.buff),t},g.ArrayBuffer.prototype.setState=function(t){return t.buff=p(t.buff,!0),g.prototype.setState.call(this,t)},g.ArrayBuffer.prototype.destroy=g.prototype.destroy,g.ArrayBuffer.prototype._finish=g.prototype._finish,g.ArrayBuffer.hash=function(t,e){var n=c(new Uint8Array(t));return e?n:l(n)},g}),t()}(),System.registerDynamic("github:webcomponents/webcomponentsjs@0.7.12",["github:webcomponents/webcomponentsjs@0.7.12/webcomponents-lite"],!0,function(require,t,e){var n=this,r=n.define;return n.define=void 0,e.exports=require("github:webcomponents/webcomponentsjs@0.7.12/webcomponents-lite"),n.define=r,e.exports}),System.registerDynamic("github:mohayonao/web-audio-api-shim@0.3.0",["github:mohayonao/web-audio-api-shim@0.3.0/build/web-audio-api-shim"],!0,function(require,t,e){var n=this,r=n.define;return n.define=void 0,e.exports=require("github:mohayonao/web-audio-api-shim@0.3.0/build/web-audio-api-shim"),n.define=r,e.exports}),System.registerDynamic("github:mohayonao/web-audio-api-shim@0.3.0/build/web-audio-api-shim",[],!1,function(t,e,n){var r=System.get("@@global-helpers").prepareGlobal(n.id,null,null);return function(){"format global";!function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var d=new Error("Cannot find module '"+a+"'");throw d.code="MODULE_NOT_FOUND",d}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return i(n?n:t)},c,c.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(require,t,e){t.exports=require("./lib/install")(1/0)},{"./lib/install":6}],2:[function(require,t,e){(function(t){"use strict";function n(){if(!i.prototype.hasOwnProperty("getFloatTimeDomainData")){var t=new Uint8Array(2048);i.prototype.getFloatTimeDomainData=function(e){this.getByteTimeDomainData(t);for(var n=0,r=e.length;r>n;n++)e[n]=.0078125*(t[n]-128)}}}function r(){n()}Object.defineProperty(e,"__esModule",{value:!0}),e.install=r;var i=t.AnalyserNode}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(require,t,e){(function(t){"use strict";function n(){o.prototype.hasOwnProperty("copyFromChannel")||(o.prototype.copyFromChannel=function(t,e,n){var r=this.getChannelData(0|e).subarray(0|n);t.set(r.subarray(0,Math.min(r.length,t.length)))})}function r(){o.prototype.hasOwnProperty("copyToChannel")||(o.prototype.copyToChannel=function(t,e,n){var r=t.subarray(0,Math.min(t.length,this.length-(0|n)));this.getChannelData(0|e).set(r,0|n)})}function i(){n(),r()}Object.defineProperty(e,"__esModule",{value:!0}),e.install=i;var o=t.AudioBuffer}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(require,t,e){(function(t){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)}function i(){}function o(t,e){
t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}function a(){function e(t){this._={},this._.audioContext=t,this._.destination=t.destination,this._.state="",this._.currentTime=0,this._.sampleRate=t.sampleRate,this._.onstatechange=null}if(t.AudioContext===g){o(e,w),Object.defineProperties(e.prototype,{destination:{get:function(){return this._.destination}},sampleRate:{get:function(){return this._.sampleRate}},currentTime:{get:function(){return this._.currentTime||this._.audioContext.currentTime}},listener:{get:function(){return this._.audioContext.listener}},state:{get:function(){return this._.state}},onstatechange:{set:function(t){"function"==typeof t&&(this._.onstatechange=t)},get:function(){return this._.onstatechange}}});var i=function(t){function e(){n(this,e),_(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,new g),this._.state="running",g.prototype.hasOwnProperty("suspend")||(this._.destination=this._.audioContext.createGain(),this._.destination.connect(this._.audioContext.destination),this._.destination.connect=function(){this._.audioContext.destination.connect.apply(this._.audioContext.destination,arguments)},this._.destination.disconnect=function(){this._.audioContext.destination.connect.apply(this._.audioContext.destination,arguments)},this._.destination.channelCountMode="explicit")}return r(e,t),e}(e);i.prototype.suspend=function(){function e(){this._.state="suspended",this._.currentTime=this._.audioContext.currentTime}var n=this;if("closed"===this._.state)return Promise.reject(new Error("cannot suspend a closed AudioContext"));var r=void 0;return"function"==typeof this._.audioContext?(r=this._.audioContext.suspend(),r.then(function(){e.call(n)})):(v.prototype.disconnect.call(this._.destination),r=Promise.resolve(),r.then(function(){e.call(n);var r=new t.Event("statechange");"function"==typeof n._.onstatechange&&n._.onstatechange(r),n.dispatchEvent(r)})),r},i.prototype.resume=function(){function e(){this._.state="running",this._.currentTime=0}var n=this;if("closed"===this._.state)return Promise.reject(new Error("cannot resume a closed AudioContext"));var r=void 0;return"function"==typeof this._.audioContext.resume?(r=this._.audioContext.resume(),r.then(function(){e.call(n)})):(v.prototype.connect.call(this._.destination,this._.audioContext.destination),r=Promise.resolve(),r.then(function(){e.call(n);var r=new t.Event("statechange");"function"==typeof n._.onstatechange&&n._.onstatechange(r),n.dispatchEvent(r)})),r},i.prototype.close=function(){function e(){this._.state="closed",this._.currentTime=1/0,this._.sampleRate=0}var n=this;if("closed"===this._.state)return Promise.reject(new Error("Cannot close a context that is being closed or has already been closed."));var r=void 0;return"function"==typeof this._.audioContext.close?(r=this._.audioContext.close(),r.then(function(){e.call(n)})):("function"==typeof this._.audioContext.suspend?this._.audioContext.suspend():v.prototype.disconnect.call(this._.destination),r=Promise.resolve(),r.then(function(){e.call(n);var r=new t.Event("statechange");"function"==typeof n._.onstatechange&&n._.onstatechange(r),n.dispatchEvent(r)})),r},["addEventListener","removeEventListener","dispatchEvent","createBuffer"].forEach(function(t){i.prototype[t]=function(){return this._.audioContext[t].apply(this._.audioContext,arguments)}}),["decodeAudioData","createBufferSource","createMediaElementSource","createMediaStreamSource","createMediaStreamDestination","createAudioWorker","createScriptProcessor","createAnalyser","createGain","createDelay","createBiquadFilter","createWaveShaper","createPanner","createStereoPanner","createConvolver","createChannelSplitter","createChannelMerger","createDynamicsCompressor","createOscillator","createPeriodicWave"].forEach(function(t){i.prototype[t]=function(){if("closed"===this._.state)throw new Error("Failed to execute '"+t+"' on 'AudioContext': AudioContext has been closed");return this._.audioContext[t].apply(this._.audioContext,arguments)}});var a=function(t){function e(t,r,i){n(this,e),_(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,new b(t,r,i)),this._.state="suspended"}return r(e,t),m(e,[{key:"oncomplete",set:function(t){this._.audioContext.oncomplete=t},get:function(){return this._.audioContext.oncomplete}}]),e}(e);["addEventListener","removeEventListener","dispatchEvent","createBuffer","decodeAudioData","createBufferSource","createMediaElementSource","createMediaStreamSource","createMediaStreamDestination","createAudioWorker","createScriptProcessor","createAnalyser","createGain","createDelay","createBiquadFilter","createWaveShaper","createPanner","createStereoPanner","createConvolver","createChannelSplitter","createChannelMerger","createDynamicsCompressor","createOscillator","createPeriodicWave"].forEach(function(t){a.prototype[t]=function(){return this._.audioContext[t].apply(this._.audioContext,arguments)}}),a.prototype.startRendering=function(){var e=this;if("suspended"!==this._.state)return Promise.reject(new Error("cannot call startRendering more than once"));this._.state="running";var n=this._.audioContext.startRendering();return n.then(function(){e._.state="closed";var n=new t.Event("statechange");"function"==typeof e._.onstatechange&&e._.onstatechange(n),e.dispatchEvent(n)}),n},a.prototype.suspend=function(){return"function"==typeof this._.audioContext.suspend?this._.audioContext.suspend():Promise.reject(new Error("cannot suspend an OfflineAudioContext"))},a.prototype.resume=function(){return"function"==typeof this._.audioContext.resume?this._.audioContext.resume():Promise.reject(new Error("cannot resume an OfflineAudioContext"))},a.prototype.close=function(){return"function"==typeof this._.audioContext.close?this._.audioContext.close():Promise.reject(new Error("cannot close an OfflineAudioContext"))},t.AudioContext=i,t.OfflineAudioContext=a}}function s(){}function u(){if(!g.prototype.hasOwnProperty("createStereoPanner")){var t=require("stereo-panner-node");g.prototype.createStereoPanner=function(){return new t(this)}}}function d(){var t=new b(1,1,44100),e=!1;try{var n=new Uint32Array([1179011410,48,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,8,0,0,0,0]).buffer;e=!!t.decodeAudioData(n,i)}catch(r){i(r)}if(!e){var o=g.prototype.decodeAudioData;g.prototype.decodeAudioData=function(t,e,n){var r=this,i=new Promise(function(e,n){return o.call(r,t,e,n)});return i.then(e,n),i},g.prototype.decodeAudioData.original=o}}function c(){g.prototype.hasOwnProperty("close")||a()}function h(){g.prototype.hasOwnProperty("resume")||a()}function l(){g.prototype.hasOwnProperty("suspend")||a()}function f(){var t=new b(1,1,44100),e=!1;try{e=!!t.startRendering()}catch(n){i(n)}if(!e){var r=b.prototype.startRendering;b.prototype.startRendering=function(){var t=this;return new Promise(function(e){var n=t.oncomplete;t.oncomplete=function(r){e(r.renderedBuffer),"function"==typeof n&&n.call(t,r)},r.call(t)})},b.prototype.startRendering.original=r}}function p(t){s(),u(),d(),f(),0!==t&&(c(),h(),l())}Object.defineProperty(e,"__esModule",{value:!0});var m=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),_=function(t,e,n){for(var r=!0;r;){var i=t,o=e,a=n;s=d=u=void 0,r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(a)}var d=Object.getPrototypeOf(i);if(null===d)return void 0;t=d,e=o,n=a,r=!0}};e.install=p;var g=t.AudioContext,b=t.OfflineAudioContext,v=t.AudioNode,w=t.EventTarget||t.Object.constructor}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"stereo-panner-node":9}],5:[function(require,t,e){(function(t){"use strict";function n(t,e){for(var n=0,r=t.length;r>n;n++)if(t[n]!==e[n])return!1;return!0}function r(t){for(var e=0,n=t.numberOfOutputs;n>e;e++)h.call(t,e);t._shim$connections=[]}function i(t,e){h.call(t,e),t._shim$connections=t._shim$connections.filter(function(t){return t[1]!==e})}function o(t,e){var i=[],o=!1;if(t._shim$connections.forEach(function(t){o=o||e[0]===t[0],n(e,t)||i.push(t)}),!o)throw new Error("Failed to execute 'disconnect' on 'AudioNode': the given destination is not connected.");r(t),i.forEach(function(e){c.call(t,e[0],e[1],e[2])}),t._shim$connections=i}function a(){var t=new u(1,1,44100),e=!1;try{t.createGain().disconnect(t.destination)}catch(n){e=!0}e||(d.prototype.disconnect=function(){this._shim$connections=this._shim$connections||[];for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];0===e.length?r(this):1===e.length&&"number"==typeof e[0]?i(this,e[0]):o(this,e)},d.prototype.disconnect.original=h,d.prototype.connect=function(t){var e=void 0===arguments[1]?0:arguments[1],n=void 0===arguments[2]?0:arguments[2],r=void 0;this._shim$connections=this._shim$connections||[],t instanceof d?(c.call(this,t,e,n),r=n):(c.call(this,t,e),r=0),this._shim$connections.push([t,e,r])},d.prototype.connect.original=c)}function s(t){0!==t&&a()}Object.defineProperty(e,"__esModule",{value:!0}),e.install=s;var u=t.OfflineAudioContext,d=t.AudioNode,c=d.prototype.connect,h=d.prototype.disconnect}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],6:[function(require,t,e){(function(n){"use strict";function r(){var t=void 0===arguments[0]?1/0:arguments[0];!n.hasOwnProperty("AudioContext")&&n.hasOwnProperty("webkitAudioContext")&&(n.AudioContext=n.webkitAudioContext),!n.hasOwnProperty("OfflineAudioContext")&&n.hasOwnProperty("webkitOfflineAudioContext")&&(n.OfflineAudioContext=n.webkitOfflineAudioContext),n.AudioContext&&(require("./AnalyserNode").install(t),require("./AudioBuffer").install(t),require("./AudioNode").install(t),require("./AudioContext").install(t))}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r,t.exports=e["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./AnalyserNode":2,"./AudioBuffer":3,"./AudioContext":4,"./AudioNode":5}],7:[function(require,t,e){var n=4096,r=new Float32Array(n),i=new Float32Array(n);!function(){var t;for(t=0;n>t;t++)r[t]=Math.cos(t/n*Math.PI*.5),i[t]=Math.sin(t/n*Math.PI*.5)}(),t.exports={L:r,R:i}},{}],8:[function(require,t,e){(function(e){function n(t){this.audioContext=t,this.inlet=t.createChannelSplitter(2),this._pan=t.createGain(),this.pan=this._pan.gain,this._wsL=t.createWaveShaper(),this._wsR=t.createWaveShaper(),this._L=t.createGain(),this._R=t.createGain(),this.outlet=t.createChannelMerger(2),this.inlet.channelCount=2,this.inlet.channelCountMode="explicit",this._pan.gain.value=0,this._wsL.curve=r.L,this._wsR.curve=r.R,this._L.gain.value=0,this._R.gain.value=0,this.inlet.connect(this._L,0),this.inlet.connect(this._R,1),this._L.connect(this.outlet,0,0),this._R.connect(this.outlet,0,1),this._pan.connect(this._wsL),this._pan.connect(this._wsR),this._wsL.connect(this._L.gain),this._wsR.connect(this._R.gain),this._isConnected=!1,this._dc1buffer=null,this._dc1=null}var r=require("./curve");n.prototype.connect=function(t){var n=this.audioContext;this._isConnected||(this._isConnected=!0,this._dc1buffer=n.createBuffer(1,2,n.sampleRate),this._dc1buffer.getChannelData(0).set([1,1]),this._dc1=n.createBufferSource(),this._dc1.buffer=this._dc1buffer,this._dc1.loop=!0,this._dc1.start(n.currentTime),this._dc1.connect(this._pan)),e.AudioNode.prototype.connect.call(this.outlet,t)},n.prototype.disconnect=function(){var t=this.audioContext;this._isConnected&&(this._isConnected=!1,this._dc1.stop(t.currentTime),this._dc1.disconnect(),this._dc1=null,this._dc1buffer=null),e.AudioNode.prototype.disconnect.call(this.outlet)},t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./curve":7}],9:[function(require,t,e){(function(e){function n(t){var e=new r(t);return Object.defineProperties(e.inlet,{pan:{value:e.pan,enumerable:!0},connect:{value:function(t){return e.connect(t)}},disconnect:{value:function(){return e.disconnect()}}}),e.inlet}var r=require("./stereo-panner-impl"),i=e.AudioContext||e.webkitAudioContext;n.polyfill=function(){i&&!i.prototype.hasOwnProperty("createStereoPanner")&&(i.prototype.createStereoPanner=function(){return new n(this)})},t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./stereo-panner-impl":8}]},{},[1])}(),r()}),System.registerDynamic("github:webcomponents/webcomponentsjs@0.7.12/webcomponents-lite",[],!1,function(t,e,n){var r=System.get("@@global-helpers").prepareGlobal(n.id,null,null);return function(){window.WebComponents=window.WebComponents||{},function(t){var e=t.flags||{},n="webcomponents-lite.js",r=document.querySelector('script[src*="'+n+'"]');if(!e.noOpts){if(location.search.slice(1).split("&").forEach(function(t){var n,r=t.split("=");r[0]&&(n=r[0].match(/wc-(.+)/))&&(e[n[1]]=r[1]||!0)}),r)for(var i,o=0;i=r.attributes[o];o++)"src"!==i.name&&(e[i.name]=i.value||!0);if(e.log){var a=e.log.split(",");e.log={},a.forEach(function(t){e.log[t]=!0})}else e.log={}}e.shadow=e.shadow||e.shadowdom||e.polyfill,"native"===e.shadow?e.shadow=!1:e.shadow=e.shadow||!HTMLElement.prototype.createShadowRoot,e.register&&(window.CustomElements=window.CustomElements||{flags:{}},window.CustomElements.flags.register=e.register),t.flags=e}(window.WebComponents),function(t){"use strict";function e(t){return void 0!==l[t]}function n(){s.call(this),this._isInvalid=!0}function r(t){return""==t&&n.call(this),t.toLowerCase()}function i(t){var e=t.charCodeAt(0);return e>32&&127>e&&-1==[34,35,60,62,63,96].indexOf(e)?t:encodeURIComponent(t)}function o(t){var e=t.charCodeAt(0);return e>32&&127>e&&-1==[34,35,60,62,96].indexOf(e)?t:encodeURIComponent(t)}function a(t,a,s){function u(t){v.push(t)}var d=a||"scheme start",c=0,h="",g=!1,b=!1,v=[];t:for(;(t[c-1]!=p||0==c)&&!this._isInvalid;){var w=t[c];switch(d){case"scheme start":if(!w||!m.test(w)){if(a){u("Invalid scheme.");break t}h="",d="no scheme";continue}h+=w.toLowerCase(),d="scheme";break;case"scheme":if(w&&_.test(w))h+=w.toLowerCase();else{if(":"!=w){if(a){if(p==w)break t;u("Code point not allowed in scheme: "+w);break t}h="",c=0,d="no scheme";continue}if(this._scheme=h,h="",a)break t;e(this._scheme)&&(this._isRelative=!0),d="file"==this._scheme?"relative":this._isRelative&&s&&s._scheme==this._scheme?"relative or authority":this._isRelative?"authority first slash":"scheme data"}break;case"scheme data":"?"==w?(this._query="?",d="query"):"#"==w?(this._fragment="#",d="fragment"):p!=w&&"	"!=w&&"\n"!=w&&"\r"!=w&&(this._schemeData+=i(w));break;case"no scheme":if(s&&e(s._scheme)){d="relative";continue}u("Missing scheme."),n.call(this);break;case"relative or authority":if("/"!=w||"/"!=t[c+1]){u("Expected /, got: "+w),d="relative";continue}d="authority ignore slashes";break;case"relative":if(this._isRelative=!0,"file"!=this._scheme&&(this._scheme=s._scheme),p==w){this._host=s._host,this._port=s._port,this._path=s._path.slice(),this._query=s._query,this._username=s._username,this._password=s._password;break t}if("/"==w||"\\"==w)"\\"==w&&u("\\ is an invalid code point."),d="relative slash";else if("?"==w)this._host=s._host,this._port=s._port,this._path=s._path.slice(),this._query="?",this._username=s._username,this._password=s._password,d="query";else{if("#"!=w){var y=t[c+1],E=t[c+2];("file"!=this._scheme||!m.test(w)||":"!=y&&"|"!=y||p!=E&&"/"!=E&&"\\"!=E&&"?"!=E&&"#"!=E)&&(this._host=s._host,this._port=s._port,this._username=s._username,this._password=s._password,this._path=s._path.slice(),this._path.pop()),d="relative path";continue}this._host=s._host,this._port=s._port,this._path=s._path.slice(),this._query=s._query,this._fragment="#",this._username=s._username,this._password=s._password,d="fragment"}break;case"relative slash":if("/"!=w&&"\\"!=w){"file"!=this._scheme&&(this._host=s._host,this._port=s._port,this._username=s._username,this._password=s._password),d="relative path";continue}"\\"==w&&u("\\ is an invalid code point."),d="file"==this._scheme?"file host":"authority ignore slashes";break;case"authority first slash":if("/"!=w){u("Expected '/', got: "+w),d="authority ignore slashes";continue}d="authority second slash";break;case"authority second slash":if(d="authority ignore slashes","/"!=w){u("Expected '/', got: "+w);continue}break;case"authority ignore slashes":if("/"!=w&&"\\"!=w){d="authority";continue}u("Expected authority, got: "+w);break;case"authority":if("@"==w){g&&(u("@ already seen."),h+="%40"),g=!0;for(var x=0;x<h.length;x++){var k=h[x];if("	"!=k&&"\n"!=k&&"\r"!=k)if(":"!=k||null!==this._password){var C=i(k);null!==this._password?this._password+=C:this._username+=C}else this._password="";else u("Invalid whitespace in authority.")}h=""}else{if(p==w||"/"==w||"\\"==w||"?"==w||"#"==w){c-=h.length,h="",d="host";continue}h+=w}break;case"file host":if(p==w||"/"==w||"\\"==w||"?"==w||"#"==w){2!=h.length||!m.test(h[0])||":"!=h[1]&&"|"!=h[1]?0==h.length?d="relative path start":(this._host=r.call(this,h),h="",d="relative path start"):d="relative path";continue}"	"==w||"\n"==w||"\r"==w?u("Invalid whitespace in file host."):h+=w;break;case"host":case"hostname":if(":"!=w||b){if(p==w||"/"==w||"\\"==w||"?"==w||"#"==w){if(this._host=r.call(this,h),h="",d="relative path start",a)break t;continue}"	"!=w&&"\n"!=w&&"\r"!=w?("["==w?b=!0:"]"==w&&(b=!1),h+=w):u("Invalid code point in host/hostname: "+w)}else if(this._host=r.call(this,h),h="",d="port","hostname"==a)break t;break;case"port":if(/[0-9]/.test(w))h+=w;else{if(p==w||"/"==w||"\\"==w||"?"==w||"#"==w||a){if(""!=h){var A=parseInt(h,10);A!=l[this._scheme]&&(this._port=A+""),h=""}if(a)break t;d="relative path start";continue}"	"==w||"\n"==w||"\r"==w?u("Invalid code point in port: "+w):n.call(this)}break;case"relative path start":if("\\"==w&&u("'\\' not allowed in path."),d="relative path","/"!=w&&"\\"!=w)continue;break;case"relative path":if(p!=w&&"/"!=w&&"\\"!=w&&(a||"?"!=w&&"#"!=w))"	"!=w&&"\n"!=w&&"\r"!=w&&(h+=i(w));else{"\\"==w&&u("\\ not allowed in relative path.");var S;(S=f[h.toLowerCase()])&&(h=S),".."==h?(this._path.pop(),"/"!=w&&"\\"!=w&&this._path.push("")):"."==h&&"/"!=w&&"\\"!=w?this._path.push(""):"."!=h&&("file"==this._scheme&&0==this._path.length&&2==h.length&&m.test(h[0])&&"|"==h[1]&&(h=h[0]+":"),this._path.push(h)),h="","?"==w?(this._query="?",d="query"):"#"==w&&(this._fragment="#",d="fragment")}break;case"query":a||"#"!=w?p!=w&&"	"!=w&&"\n"!=w&&"\r"!=w&&(this._query+=o(w)):(this._fragment="#",d="fragment");break;case"fragment":p!=w&&"	"!=w&&"\n"!=w&&"\r"!=w&&(this._fragment+=w)}c++}}function s(){this._scheme="",this._schemeData="",this._username="",this._password=null,this._host="",this._port="",this._path=[],this._query="",this._fragment="",this._isInvalid=!1,this._isRelative=!1}function u(t,e){void 0===e||e instanceof u||(e=new u(String(e))),this._url=t,s.call(this);var n=t.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,"");a.call(this,n,null,e)}var d=!1;if(!t.forceJURL)try{var c=new URL("b","http://a");c.pathname="c%20d",d="http://a/c%20d"===c.href}catch(h){}if(!d){var l=Object.create(null);l.ftp=21,l.file=0,l.gopher=70,l.http=80,l.https=443,l.ws=80,l.wss=443;var f=Object.create(null);f["%2e"]=".",f[".%2e"]="..",f["%2e."]="..",f["%2e%2e"]="..";var p=void 0,m=/[a-zA-Z]/,_=/[a-zA-Z0-9\+\-\.]/;u.prototype={toString:function(){return this.href},get href(){if(this._isInvalid)return this._url;var t="";return(""!=this._username||null!=this._password)&&(t=this._username+(null!=this._password?":"+this._password:"")+"@"),this.protocol+(this._isRelative?"//"+t+this.host:"")+this.pathname+this._query+this._fragment},set href(t){s.call(this),a.call(this,t)},get protocol(){return this._scheme+":"},set protocol(t){this._isInvalid||a.call(this,t+":","scheme start")},get host(){return this._isInvalid?"":this._port?this._host+":"+this._port:this._host},set host(t){!this._isInvalid&&this._isRelative&&a.call(this,t,"host")},get hostname(){return this._host},set hostname(t){!this._isInvalid&&this._isRelative&&a.call(this,t,"hostname")},get port(){return this._port},set port(t){!this._isInvalid&&this._isRelative&&a.call(this,t,"port")},get pathname(){return this._isInvalid?"":this._isRelative?"/"+this._path.join("/"):this._schemeData},set pathname(t){!this._isInvalid&&this._isRelative&&(this._path=[],a.call(this,t,"relative path start"))},get search(){return this._isInvalid||!this._query||"?"==this._query?"":this._query},set search(t){!this._isInvalid&&this._isRelative&&(this._query="?","?"==t[0]&&(t=t.slice(1)),a.call(this,t,"query"))},get hash(){return this._isInvalid||!this._fragment||"#"==this._fragment?"":this._fragment},set hash(t){this._isInvalid||(this._fragment="#","#"==t[0]&&(t=t.slice(1)),a.call(this,t,"fragment"))},get origin(){var t;if(this._isInvalid||!this._scheme)return"";switch(this._scheme){case"data":case"file":case"javascript":case"mailto":return"null"}return t=this.host,t?this._scheme+"://"+t:""}};var g=t.URL;g&&(u.createObjectURL=function(t){return g.createObjectURL.apply(g,arguments)},u.revokeObjectURL=function(t){g.revokeObjectURL(t)}),t.URL=u}}(this),"undefined"==typeof WeakMap&&!function(){var t=Object.defineProperty,e=Date.now()%1e9,n=function(){this.name="__st"+(1e9*Math.random()>>>0)+(e++ +"__")};n.prototype={set:function(e,n){var r=e[this.name];return r&&r[0]===e?r[1]=n:t(e,this.name,{value:[e,n],writable:!0}),this},get:function(t){var e;return(e=t[this.name])&&e[0]===t?e[1]:void 0},"delete":function(t){var e=t[this.name];return e&&e[0]===t?(e[0]=e[1]=void 0,!0):!1},has:function(t){var e=t[this.name];return e?e[0]===t:!1}},window.WeakMap=n}(),function(t){function e(t){w.push(t),v||(v=!0,m(r))}function n(t){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(t)||t}function r(){v=!1;var t=w;w=[],t.sort(function(t,e){return t.uid_-e.uid_});var e=!1;t.forEach(function(t){var n=t.takeRecords();i(t),n.length&&(t.callback_(n,t),e=!0)}),e&&r()}function i(t){t.nodes_.forEach(function(e){var n=_.get(e);n&&n.forEach(function(e){e.observer===t&&e.removeTransientObservers()})})}function o(t,e){for(var n=t;n;n=n.parentNode){var r=_.get(n);if(r)for(var i=0;i<r.length;i++){var o=r[i],a=o.options;if(n===t||a.subtree){var s=e(a);s&&o.enqueue(s)}}}}function a(t){this.callback_=t,this.nodes_=[],this.records_=[],this.uid_=++y}function s(t,e){this.type=t,this.target=e,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function u(t){var e=new s(t.type,t.target);return e.addedNodes=t.addedNodes.slice(),e.removedNodes=t.removedNodes.slice(),e.previousSibling=t.previousSibling,e.nextSibling=t.nextSibling,e.attributeName=t.attributeName,e.attributeNamespace=t.attributeNamespace,e.oldValue=t.oldValue,e}function d(t,e){return E=new s(t,e)}function c(t){return x?x:(x=u(E),x.oldValue=t,x)}function h(){E=x=void 0}function l(t){return t===x||t===E}function f(t,e){return t===e?t:x&&l(t)?x:null}function p(t,e,n){this.observer=t,this.target=e,this.options=n,this.transientObservedNodes=[]}var m,_=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))m=setTimeout;else if(window.setImmediate)m=window.setImmediate;else{var g=[],b=String(Math.random());window.addEventListener("message",function(t){if(t.data===b){var e=g;g=[],e.forEach(function(t){t()})}}),m=function(t){g.push(t),window.postMessage(b,"*")}}var v=!1,w=[],y=0;a.prototype={observe:function(t,e){if(t=n(t),!e.childList&&!e.attributes&&!e.characterData||e.attributeOldValue&&!e.attributes||e.attributeFilter&&e.attributeFilter.length&&!e.attributes||e.characterDataOldValue&&!e.characterData)throw new SyntaxError;var r=_.get(t);r||_.set(t,r=[]);for(var i,o=0;o<r.length;o++)if(r[o].observer===this){i=r[o],i.removeListeners(),i.options=e;break}i||(i=new p(this,t,e),r.push(i),this.nodes_.push(t)),i.addListeners()},disconnect:function(){this.nodes_.forEach(function(t){for(var e=_.get(t),n=0;n<e.length;n++){var r=e[n];if(r.observer===this){r.removeListeners(),e.splice(n,1);break}}},this),this.records_=[]},takeRecords:function(){var t=this.records_;return this.records_=[],t}};var E,x;p.prototype={enqueue:function(t){var n=this.observer.records_,r=n.length;if(n.length>0){var i=n[r-1],o=f(i,t);if(o)return void(n[r-1]=o)}else e(this.observer);n[r]=t},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(t){var e=this.options;e.attributes&&t.addEventListener("DOMAttrModified",this,!0),e.characterData&&t.addEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.addEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(t){var e=this.options;e.attributes&&t.removeEventListener("DOMAttrModified",this,!0),e.characterData&&t.removeEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.removeEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(t){if(t!==this.target){this.addListeners_(t),this.transientObservedNodes.push(t);var e=_.get(t);e||_.set(t,e=[]),e.push(this)}},removeTransientObservers:function(){var t=this.transientObservedNodes;this.transientObservedNodes=[],t.forEach(function(t){this.removeListeners_(t);for(var e=_.get(t),n=0;n<e.length;n++)if(e[n]===this){e.splice(n,1);break}},this)},handleEvent:function(t){switch(t.stopImmediatePropagation(),t.type){case"DOMAttrModified":var e=t.attrName,n=t.relatedNode.namespaceURI,r=t.target,i=new d("attributes",r);i.attributeName=e,i.attributeNamespace=n;var a=t.attrChange===MutationEvent.ADDITION?null:t.prevValue;o(r,function(t){return!t.attributes||t.attributeFilter&&t.attributeFilter.length&&-1===t.attributeFilter.indexOf(e)&&-1===t.attributeFilter.indexOf(n)?void 0:t.attributeOldValue?c(a):i});break;case"DOMCharacterDataModified":var r=t.target,i=d("characterData",r),a=t.prevValue;o(r,function(t){return t.characterData?t.characterDataOldValue?c(a):i:void 0});break;case"DOMNodeRemoved":this.addTransientObserver(t.target);case"DOMNodeInserted":var s,u,l=t.target;"DOMNodeInserted"===t.type?(s=[l],u=[]):(s=[],u=[l]);var f=l.previousSibling,p=l.nextSibling,i=d("childList",t.target.parentNode);i.addedNodes=s,i.removedNodes=u,i.previousSibling=f,i.nextSibling=p,o(t.relatedNode,function(t){return t.childList?i:void 0})}h()}},t.JsMutationObserver=a,t.MutationObserver||(t.MutationObserver=a)}(window),window.HTMLImports=window.HTMLImports||{flags:{}},function(t){function e(t,e){e=e||p,r(function(){o(t,e)},e)}function n(t){return"complete"===t.readyState||t.readyState===g}function r(t,e){if(n(e))t&&t();else{var i=function(){("complete"===e.readyState||e.readyState===g)&&(e.removeEventListener(b,i),r(t,e))};e.addEventListener(b,i)}}function i(t){t.target.__loaded=!0}function o(t,e){function n(){u==d&&t&&t({allImports:s,loadedImports:c,errorImports:h})}function r(t){i(t),c.push(this),u++,n()}function o(t){h.push(this),u++,n()}var s=e.querySelectorAll("link[rel=import]"),u=0,d=s.length,c=[],h=[];if(d)for(var l,f=0;d>f&&(l=s[f]);f++)a(l)?(u++,n()):(l.addEventListener("load",r),l.addEventListener("error",o));else n()}function a(t){return h?t.__loaded||t["import"]&&"loading"!==t["import"].readyState:t.__importParsed}function s(t){for(var e,n=0,r=t.length;r>n&&(e=t[n]);n++)u(e)&&d(e)}function u(t){return"link"===t.localName&&"import"===t.rel}function d(t){var e=t["import"];e?i({target:t}):(t.addEventListener("load",i),t.addEventListener("error",i))}var c="import",h=Boolean(c in document.createElement("link")),l=Boolean(window.ShadowDOMPolyfill),f=function(t){return l?window.ShadowDOMPolyfill.wrapIfNeeded(t):t},p=f(document),m={get:function(){var t=window.HTMLImports.currentScript||document.currentScript||("complete"!==document.readyState?document.scripts[document.scripts.length-1]:null);return f(t)},configurable:!0};Object.defineProperty(document,"_currentScript",m),Object.defineProperty(p,"_currentScript",m);var _=/Trident/.test(navigator.userAgent),g=_?"complete":"interactive",b="readystatechange";h&&(new MutationObserver(function(t){for(var e,n=0,r=t.length;r>n&&(e=t[n]);n++)e.addedNodes&&s(e.addedNodes)}).observe(document.head,{childList:!0}),function(){if("loading"===document.readyState)for(var t,e=document.querySelectorAll("link[rel=import]"),n=0,r=e.length;r>n&&(t=e[n]);n++)d(t)}()),e(function(t){window.HTMLImports.ready=!0,window.HTMLImports.readyTime=(new Date).getTime();var e=p.createEvent("CustomEvent");e.initCustomEvent("HTMLImportsLoaded",!0,!0,t),p.dispatchEvent(e)}),t.IMPORT_LINK_TYPE=c,t.useNative=h,t.rootDocument=p,t.whenReady=e,t.isIE=_}(window.HTMLImports),function(t){var e=[],n=function(t){e.push(t)},r=function(){e.forEach(function(e){e(t)})};t.addModule=n,t.initializeModules=r}(window.HTMLImports),window.HTMLImports.addModule(function(t){var e=/(url\()([^)]*)(\))/g,n=/(@import[\s]+(?!url\())([^;]*)(;)/g,r={resolveUrlsInStyle:function(t,e){var n=t.ownerDocument,r=n.createElement("a");return t.textContent=this.resolveUrlsInCssText(t.textContent,e,r),t},resolveUrlsInCssText:function(t,r,i){var o=this.replaceUrls(t,i,r,e);return o=this.replaceUrls(o,i,r,n)},replaceUrls:function(t,e,n,r){return t.replace(r,function(t,r,i,o){var a=i.replace(/["']/g,"");return n&&(a=new URL(a,n).href),e.href=a,a=e.href,r+"'"+a+"'"+o})}};t.path=r}),window.HTMLImports.addModule(function(t){var e={async:!0,ok:function(t){return t.status>=200&&t.status<300||304===t.status||0===t.status},load:function(n,r,i){var o=new XMLHttpRequest;return(t.flags.debug||t.flags.bust)&&(n+="?"+Math.random()),o.open("GET",n,e.async),o.addEventListener("readystatechange",function(t){if(4===o.readyState){var n=o.getResponseHeader("Location"),a=null;if(n)var a="/"===n.substr(0,1)?location.origin+n:n;r.call(i,!e.ok(o)&&o,o.response||o.responseText,a)}}),o.send(),o},loadDocument:function(t,e,n){this.load(t,e,n).responseType="document"}};t.xhr=e}),window.HTMLImports.addModule(function(t){var e=t.xhr,n=t.flags,r=function(t,e){this.cache={},this.onload=t,this.oncomplete=e,this.inflight=0,this.pending={}};r.prototype={addNodes:function(t){this.inflight+=t.length;for(var e,n=0,r=t.length;r>n&&(e=t[n]);n++)this.require(e);this.checkDone()},addNode:function(t){this.inflight++,this.require(t),this.checkDone()},require:function(t){var e=t.src||t.href;t.__nodeUrl=e,this.dedupe(e,t)||this.fetch(e,t)},dedupe:function(t,e){if(this.pending[t])return this.pending[t].push(e),!0;return this.cache[t]?(this.onload(t,e,this.cache[t]),this.tail(),!0):(this.pending[t]=[e],!1)},fetch:function(t,r){if(n.load&&console.log("fetch",t,r),t)if(t.match(/^data:/)){var i=t.split(","),o=i[0],a=i[1];a=o.indexOf(";base64")>-1?atob(a):decodeURIComponent(a),setTimeout(function(){this.receive(t,r,null,a)}.bind(this),0)}else{var s=function(e,n,i){this.receive(t,r,e,n,i)}.bind(this);e.load(t,s)}else setTimeout(function(){this.receive(t,r,{error:"href must be specified"},null)}.bind(this),0)},receive:function(t,e,n,r,i){this.cache[t]=r;for(var o,a=this.pending[t],s=0,u=a.length;u>s&&(o=a[s]);s++)this.onload(t,o,r,n,i),this.tail();this.pending[t]=null},tail:function(){--this.inflight,this.checkDone()},checkDone:function(){this.inflight||this.oncomplete()}},t.Loader=r}),window.HTMLImports.addModule(function(t){var e=function(t){this.addCallback=t,this.mo=new MutationObserver(this.handler.bind(this))};e.prototype={handler:function(t){for(var e,n=0,r=t.length;r>n&&(e=t[n]);n++)"childList"===e.type&&e.addedNodes.length&&this.addedNodes(e.addedNodes)},addedNodes:function(t){this.addCallback&&this.addCallback(t);for(var e,n=0,r=t.length;r>n&&(e=t[n]);n++)e.children&&e.children.length&&this.addedNodes(e.children);
},observe:function(t){this.mo.observe(t,{childList:!0,subtree:!0})}},t.Observer=e}),window.HTMLImports.addModule(function(t){function e(t){return"link"===t.localName&&t.rel===c}function n(t){var e=r(t);return"data:text/javascript;charset=utf-8,"+encodeURIComponent(e)}function r(t){return t.textContent+i(t)}function i(t){var e=t.ownerDocument;e.__importedScripts=e.__importedScripts||0;var n=t.ownerDocument.baseURI,r=e.__importedScripts?"-"+e.__importedScripts:"";return e.__importedScripts++,"\n//# sourceURL="+n+r+".js\n"}function o(t){var e=t.ownerDocument.createElement("style");return e.textContent=t.textContent,a.resolveUrlsInStyle(e),e}var a=t.path,s=t.rootDocument,u=t.flags,d=t.isIE,c=t.IMPORT_LINK_TYPE,h="link[rel="+c+"]",l={documentSelectors:h,importsSelectors:[h,"link[rel=stylesheet]:not([type])","style:not([type])","script:not([type])",'script[type="application/javascript"]','script[type="text/javascript"]'].join(","),map:{link:"parseLink",script:"parseScript",style:"parseStyle"},dynamicElements:[],parseNext:function(){var t=this.nextToParse();t&&this.parse(t)},parse:function(t){if(this.isParsed(t))return void(u.parse&&console.log("[%s] is already parsed",t.localName));var e=this[this.map[t.localName]];e&&(this.markParsing(t),e.call(this,t))},parseDynamic:function(t,e){this.dynamicElements.push(t),e||this.parseNext()},markParsing:function(t){u.parse&&console.log("parsing",t),this.parsingElement=t},markParsingComplete:function(t){t.__importParsed=!0,this.markDynamicParsingComplete(t),t.__importElement&&(t.__importElement.__importParsed=!0,this.markDynamicParsingComplete(t.__importElement)),this.parsingElement=null,u.parse&&console.log("completed",t)},markDynamicParsingComplete:function(t){var e=this.dynamicElements.indexOf(t);e>=0&&this.dynamicElements.splice(e,1)},parseImport:function(t){if(t["import"]=t.__doc,window.HTMLImports.__importsParsingHook&&window.HTMLImports.__importsParsingHook(t),t["import"]&&(t["import"].__importParsed=!0),this.markParsingComplete(t),t.__resource&&!t.__error?t.dispatchEvent(new CustomEvent("load",{bubbles:!1})):t.dispatchEvent(new CustomEvent("error",{bubbles:!1})),t.__pending)for(var e;t.__pending.length;)e=t.__pending.shift(),e&&e({target:t});this.parseNext()},parseLink:function(t){e(t)?this.parseImport(t):(t.href=t.href,this.parseGeneric(t))},parseStyle:function(t){var e=t;t=o(t),e.__appliedElement=t,t.__importElement=e,this.parseGeneric(t)},parseGeneric:function(t){this.trackElement(t),this.addElementToDocument(t)},rootImportForElement:function(t){for(var e=t;e.ownerDocument.__importLink;)e=e.ownerDocument.__importLink;return e},addElementToDocument:function(t){var e=this.rootImportForElement(t.__importElement||t);e.parentNode.insertBefore(t,e)},trackElement:function(t,e){var n=this,r=function(i){t.removeEventListener("load",r),t.removeEventListener("error",r),e&&e(i),n.markParsingComplete(t),n.parseNext()};if(t.addEventListener("load",r),t.addEventListener("error",r),d&&"style"===t.localName){var i=!1;if(-1==t.textContent.indexOf("@import"))i=!0;else if(t.sheet){i=!0;for(var o,a=t.sheet.cssRules,s=a?a.length:0,u=0;s>u&&(o=a[u]);u++)o.type===CSSRule.IMPORT_RULE&&(i=i&&Boolean(o.styleSheet))}i&&setTimeout(function(){t.dispatchEvent(new CustomEvent("load",{bubbles:!1}))})}},parseScript:function(e){var r=document.createElement("script");r.__importElement=e,r.src=e.src?e.src:n(e),t.currentScript=e,this.trackElement(r,function(e){r.parentNode&&r.parentNode.removeChild(r),t.currentScript=null}),this.addElementToDocument(r)},nextToParse:function(){return this._mayParse=[],!this.parsingElement&&(this.nextToParseInDoc(s)||this.nextToParseDynamic())},nextToParseInDoc:function(t,n){if(t&&this._mayParse.indexOf(t)<0){this._mayParse.push(t);for(var r,i=t.querySelectorAll(this.parseSelectorsForNode(t)),o=0,a=i.length;a>o&&(r=i[o]);o++)if(!this.isParsed(r))return this.hasResource(r)?e(r)?this.nextToParseInDoc(r.__doc,r):r:void 0}return n},nextToParseDynamic:function(){return this.dynamicElements[0]},parseSelectorsForNode:function(t){var e=t.ownerDocument||t;return e===s?this.documentSelectors:this.importsSelectors},isParsed:function(t){return t.__importParsed},needsDynamicParsing:function(t){return this.dynamicElements.indexOf(t)>=0},hasResource:function(t){return e(t)&&void 0===t.__doc?!1:!0}};t.parser=l,t.IMPORT_SELECTOR=h}),window.HTMLImports.addModule(function(t){function e(t){return n(t,a)}function n(t,e){return"link"===t.localName&&t.getAttribute("rel")===e}function r(t){return!!Object.getOwnPropertyDescriptor(t,"baseURI")}function i(t,e){var n=document.implementation.createHTMLDocument(a);n._URL=e;var i=n.createElement("base");i.setAttribute("href",e),n.baseURI||r(n)||Object.defineProperty(n,"baseURI",{value:e});var o=n.createElement("meta");return o.setAttribute("charset","utf-8"),n.head.appendChild(o),n.head.appendChild(i),n.body.innerHTML=t,window.HTMLTemplateElement&&HTMLTemplateElement.bootstrap&&HTMLTemplateElement.bootstrap(n),n}var o=t.flags,a=t.IMPORT_LINK_TYPE,s=t.IMPORT_SELECTOR,u=t.rootDocument,d=t.Loader,c=t.Observer,h=t.parser,l={documents:{},documentPreloadSelectors:s,importsPreloadSelectors:[s].join(","),loadNode:function(t){f.addNode(t)},loadSubtree:function(t){var e=this.marshalNodes(t);f.addNodes(e)},marshalNodes:function(t){return t.querySelectorAll(this.loadSelectorsForNode(t))},loadSelectorsForNode:function(t){var e=t.ownerDocument||t;return e===u?this.documentPreloadSelectors:this.importsPreloadSelectors},loaded:function(t,n,r,a,s){if(o.load&&console.log("loaded",t,n),n.__resource=r,n.__error=a,e(n)){var u=this.documents[t];void 0===u&&(u=a?null:i(r,s||t),u&&(u.__importLink=n,this.bootDocument(u)),this.documents[t]=u),n.__doc=u}h.parseNext()},bootDocument:function(t){this.loadSubtree(t),this.observer.observe(t),h.parseNext()},loadedAll:function(){h.parseNext()}},f=new d(l.loaded.bind(l),l.loadedAll.bind(l));if(l.observer=new c,!document.baseURI){var p={get:function(){var t=document.querySelector("base");return t?t.href:window.location.href},configurable:!0};Object.defineProperty(document,"baseURI",p),Object.defineProperty(u,"baseURI",p)}t.importer=l,t.importLoader=f}),window.HTMLImports.addModule(function(t){var e=t.parser,n=t.importer,r={added:function(t){for(var r,i,o,a,s=0,u=t.length;u>s&&(a=t[s]);s++)r||(r=a.ownerDocument,i=e.isParsed(r)),o=this.shouldLoadNode(a),o&&n.loadNode(a),this.shouldParseNode(a)&&i&&e.parseDynamic(a,o)},shouldLoadNode:function(t){return 1===t.nodeType&&i.call(t,n.loadSelectorsForNode(t))},shouldParseNode:function(t){return 1===t.nodeType&&i.call(t,e.parseSelectorsForNode(t))}};n.observer.addCallback=r.added.bind(r);var i=HTMLElement.prototype.matches||HTMLElement.prototype.matchesSelector||HTMLElement.prototype.webkitMatchesSelector||HTMLElement.prototype.mozMatchesSelector||HTMLElement.prototype.msMatchesSelector}),function(t){function e(){window.HTMLImports.importer.bootDocument(i)}var n=t.initializeModules,r=t.isIE;if(!t.useNative){r&&"function"!=typeof window.CustomEvent&&(window.CustomEvent=function(t,e){e=e||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,Boolean(e.bubbles),Boolean(e.cancelable),e.detail),n.preventDefault=function(){Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})},n},window.CustomEvent.prototype=window.Event.prototype),n();var i=t.rootDocument;"complete"===document.readyState||"interactive"===document.readyState&&!window.attachEvent?e():document.addEventListener("DOMContentLoaded",e)}}(window.HTMLImports),window.CustomElements=window.CustomElements||{flags:{}},function(t){var e=t.flags,n=[],r=function(t){n.push(t)},i=function(){n.forEach(function(e){e(t)})};t.addModule=r,t.initializeModules=i,t.hasNative=Boolean(document.registerElement),t.isIE=/Trident/.test(navigator.userAgent),t.useNative=!e.register&&t.hasNative&&!window.ShadowDOMPolyfill&&(!window.HTMLImports||window.HTMLImports.useNative)}(window.CustomElements),window.CustomElements.addModule(function(t){function e(t,e){n(t,function(t){return e(t)?!0:void r(t,e)}),r(t,e)}function n(t,e,r){var i=t.firstElementChild;if(!i)for(i=t.firstChild;i&&i.nodeType!==Node.ELEMENT_NODE;)i=i.nextSibling;for(;i;)e(i,r)!==!0&&n(i,e,r),i=i.nextElementSibling;return null}function r(t,n){for(var r=t.shadowRoot;r;)e(r,n),r=r.olderShadowRoot}function i(t,e){o(t,e,[])}function o(t,e,n){if(t=window.wrap(t),!(n.indexOf(t)>=0)){n.push(t);for(var r,i=t.querySelectorAll("link[rel="+a+"]"),s=0,u=i.length;u>s&&(r=i[s]);s++)r["import"]&&o(r["import"],e,n);e(t)}}var a=window.HTMLImports?window.HTMLImports.IMPORT_LINK_TYPE:"none";t.forDocumentTree=i,t.forSubtree=e}),window.CustomElements.addModule(function(t){function e(t,e){return n(t,e)||r(t,e)}function n(e,n){return t.upgrade(e,n)?!0:void(n&&a(e))}function r(t,e){v(t,function(t){return n(t,e)?!0:void 0})}function i(t){x.push(t),E||(E=!0,setTimeout(o))}function o(){E=!1;for(var t,e=x,n=0,r=e.length;r>n&&(t=e[n]);n++)t();x=[]}function a(t){y?i(function(){s(t)}):s(t)}function s(t){t.__upgraded__&&!t.__attached&&(t.__attached=!0,t.attachedCallback&&t.attachedCallback())}function u(t){d(t),v(t,function(t){d(t)})}function d(t){y?i(function(){c(t)}):c(t)}function c(t){t.__upgraded__&&t.__attached&&(t.__attached=!1,t.detachedCallback&&t.detachedCallback())}function h(t){for(var e=t,n=window.wrap(document);e;){if(e==n)return!0;e=e.parentNode||e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.host}}function l(t){if(t.shadowRoot&&!t.shadowRoot.__watched){b.dom&&console.log("watching shadow-root for: ",t.localName);for(var e=t.shadowRoot;e;)m(e),e=e.olderShadowRoot}}function f(t,n){if(b.dom){var r=n[0];if(r&&"childList"===r.type&&r.addedNodes&&r.addedNodes){for(var i=r.addedNodes[0];i&&i!==document&&!i.host;)i=i.parentNode;var o=i&&(i.URL||i._URL||i.host&&i.host.localName)||"";o=o.split("/?").shift().split("/").pop()}console.group("mutations (%d) [%s]",n.length,o||"")}var a=h(t);n.forEach(function(t){"childList"===t.type&&(k(t.addedNodes,function(t){t.localName&&e(t,a)}),k(t.removedNodes,function(t){t.localName&&u(t)}))}),b.dom&&console.groupEnd()}function p(t){for(t=window.wrap(t),t||(t=window.wrap(document));t.parentNode;)t=t.parentNode;var e=t.__observer;e&&(f(t,e.takeRecords()),o())}function m(t){if(!t.__observer){var e=new MutationObserver(f.bind(this,t));e.observe(t,{childList:!0,subtree:!0}),t.__observer=e}}function _(t){t=window.wrap(t),b.dom&&console.group("upgradeDocument: ",t.baseURI.split("/").pop());var n=t===window.wrap(document);e(t,n),m(t),b.dom&&console.groupEnd()}function g(t){w(t,_)}var b=t.flags,v=t.forSubtree,w=t.forDocumentTree,y=!window.MutationObserver||window.MutationObserver===window.JsMutationObserver;t.hasPolyfillMutations=y;var E=!1,x=[],k=Array.prototype.forEach.call.bind(Array.prototype.forEach),C=Element.prototype.createShadowRoot;C&&(Element.prototype.createShadowRoot=function(){var t=C.call(this);return window.CustomElements.watchShadow(this),t}),t.watchShadow=l,t.upgradeDocumentTree=g,t.upgradeDocument=_,t.upgradeSubtree=r,t.upgradeAll=e,t.attached=a,t.takeRecords=p}),window.CustomElements.addModule(function(t){function e(e,r){if(!e.__upgraded__&&e.nodeType===Node.ELEMENT_NODE){var i=e.getAttribute("is"),o=t.getRegisteredDefinition(e.localName)||t.getRegisteredDefinition(i);if(o&&(i&&o.tag==e.localName||!i&&!o["extends"]))return n(e,o,r)}}function n(e,n,i){return a.upgrade&&console.group("upgrade:",e.localName),n.is&&e.setAttribute("is",n.is),r(e,n),e.__upgraded__=!0,o(e),i&&t.attached(e),t.upgradeSubtree(e,i),a.upgrade&&console.groupEnd(),e}function r(t,e){Object.__proto__?t.__proto__=e.prototype:(i(t,e.prototype,e["native"]),t.__proto__=e.prototype)}function i(t,e,n){for(var r={},i=e;i!==n&&i!==HTMLElement.prototype;){for(var o,a=Object.getOwnPropertyNames(i),s=0;o=a[s];s++)r[o]||(Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(i,o)),r[o]=1);i=Object.getPrototypeOf(i)}}function o(t){t.createdCallback&&t.createdCallback()}var a=t.flags;t.upgrade=e,t.upgradeWithDefinition=n,t.implementPrototype=r}),window.CustomElements.addModule(function(t){function e(e,r){var u=r||{};if(!e)throw new Error("document.registerElement: first argument `name` must not be empty");if(e.indexOf("-")<0)throw new Error("document.registerElement: first argument ('name') must contain a dash ('-'). Argument provided was '"+String(e)+"'.");if(i(e))throw new Error("Failed to execute 'registerElement' on 'Document': Registration failed for type '"+String(e)+"'. The type name is invalid.");if(d(e))throw new Error("DuplicateDefinitionError: a type with name '"+String(e)+"' is already registered");return u.prototype||(u.prototype=Object.create(HTMLElement.prototype)),u.__name=e.toLowerCase(),u.lifecycle=u.lifecycle||{},u.ancestry=o(u["extends"]),a(u),s(u),n(u.prototype),c(u.__name,u),u.ctor=h(u),u.ctor.prototype=u.prototype,u.prototype.constructor=u.ctor,t.ready&&g(document),u.ctor}function n(t){if(!t.setAttribute._polyfilled){var e=t.setAttribute;t.setAttribute=function(t,n){r.call(this,t,n,e)};var n=t.removeAttribute;t.removeAttribute=function(t){r.call(this,t,null,n)},t.setAttribute._polyfilled=!0}}function r(t,e,n){t=t.toLowerCase();var r=this.getAttribute(t);n.apply(this,arguments);var i=this.getAttribute(t);this.attributeChangedCallback&&i!==r&&this.attributeChangedCallback(t,r,i)}function i(t){for(var e=0;e<E.length;e++)if(t===E[e])return!0}function o(t){var e=d(t);return e?o(e["extends"]).concat([e]):[]}function a(t){for(var e,n=t["extends"],r=0;e=t.ancestry[r];r++)n=e.is&&e.tag;t.tag=n||t.__name,n&&(t.is=t.__name)}function s(t){if(!Object.__proto__){var e=HTMLElement.prototype;if(t.is){var n=document.createElement(t.tag);e=Object.getPrototypeOf(n)}for(var r,i=t.prototype,o=!1;i;)i==e&&(o=!0),r=Object.getPrototypeOf(i),r&&(i.__proto__=r),i=r;o||console.warn(t.tag+" prototype not found in prototype chain for "+t.is),t["native"]=e}}function u(t){return v(C(t.tag),t)}function d(t){return t?x[t.toLowerCase()]:void 0}function c(t,e){x[t]=e}function h(t){return function(){return u(t)}}function l(t,e,n){return t===k?f(e,n):A(t,e)}function f(t,e){t&&(t=t.toLowerCase()),e&&(e=e.toLowerCase());var n=d(e||t);if(n){if(t==n.tag&&e==n.is)return new n.ctor;if(!e&&!n.is)return new n.ctor}var r;return e?(r=f(t),r.setAttribute("is",e),r):(r=C(t),t.indexOf("-")>=0&&w(r,HTMLElement),r)}function p(t,e){var n=t[e];t[e]=function(){var t=n.apply(this,arguments);return b(t),t}}var m,_=t.isIE,g=t.upgradeDocumentTree,b=t.upgradeAll,v=t.upgradeWithDefinition,w=t.implementPrototype,y=t.useNative,E=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"],x={},k="http://www.w3.org/1999/xhtml",C=document.createElement.bind(document),A=document.createElementNS.bind(document);m=Object.__proto__||y?function(t,e){return t instanceof e}:function(t,e){if(t instanceof e)return!0;for(var n=t;n;){if(n===e.prototype)return!0;n=n.__proto__}return!1},p(Node.prototype,"cloneNode"),p(document,"importNode"),_&&!function(){var t=document.importNode;document.importNode=function(){var e=t.apply(document,arguments);if(e.nodeType==e.DOCUMENT_FRAGMENT_NODE){var n=document.createDocumentFragment();return n.appendChild(e),n}return e}}(),document.registerElement=e,document.createElement=f,document.createElementNS=l,t.registry=x,t["instanceof"]=m,t.reservedTagList=E,t.getRegisteredDefinition=d,document.register=document.registerElement}),function(t){function e(){a(window.wrap(document)),window.CustomElements.ready=!0;var t=window.requestAnimationFrame||function(t){setTimeout(t,16)};t(function(){setTimeout(function(){window.CustomElements.readyTime=Date.now(),window.HTMLImports&&(window.CustomElements.elapsed=window.CustomElements.readyTime-window.HTMLImports.readyTime),document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))})})}var n=t.useNative,r=t.initializeModules,i=t.isIE;if(n){var o=function(){};t.watchShadow=o,t.upgrade=o,t.upgradeAll=o,t.upgradeDocumentTree=o,t.upgradeSubtree=o,t.takeRecords=o,t["instanceof"]=function(t,e){return t instanceof e}}else r();var a=t.upgradeDocumentTree,s=t.upgradeDocument;if(window.wrap||(window.ShadowDOMPolyfill?(window.wrap=window.ShadowDOMPolyfill.wrapIfNeeded,window.unwrap=window.ShadowDOMPolyfill.unwrapIfNeeded):window.wrap=window.unwrap=function(t){return t}),window.HTMLImports&&(window.HTMLImports.__importsParsingHook=function(t){t["import"]&&s(wrap(t["import"]))}),i&&"function"!=typeof window.CustomEvent&&(window.CustomEvent=function(t,e){e=e||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,Boolean(e.bubbles),Boolean(e.cancelable),e.detail),n.preventDefault=function(){Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})},n},window.CustomEvent.prototype=window.Event.prototype),"complete"===document.readyState||t.flags.eager)e();else if("interactive"!==document.readyState||window.attachEvent||window.HTMLImports&&!window.HTMLImports.ready){var u=window.HTMLImports&&!window.HTMLImports.ready?"HTMLImportsLoaded":"DOMContentLoaded";window.addEventListener(u,e)}else e()}(window.CustomElements),"undefined"==typeof HTMLTemplateElement&&!function(){function t(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case"\xa0":return"&nbsp;"}}function e(e){return e.replace(a,t)}var n="template",r=document.implementation.createHTMLDocument("template"),i=!0;HTMLTemplateElement=function(){},HTMLTemplateElement.prototype=Object.create(HTMLElement.prototype),HTMLTemplateElement.decorate=function(t){t.content||(t.content=r.createDocumentFragment());for(var n;n=t.firstChild;)t.content.appendChild(n);if(i)try{Object.defineProperty(t,"innerHTML",{get:function(){for(var t="",n=this.content.firstChild;n;n=n.nextSibling)t+=n.outerHTML||e(n.data);return t},set:function(t){for(r.body.innerHTML=t,HTMLTemplateElement.bootstrap(r);this.content.firstChild;)this.content.removeChild(this.content.firstChild);for(;r.body.firstChild;)this.content.appendChild(r.body.firstChild)},configurable:!0})}catch(o){i=!1}},HTMLTemplateElement.bootstrap=function(t){for(var e,r=t.querySelectorAll(n),i=0,o=r.length;o>i&&(e=r[i]);i++)HTMLTemplateElement.decorate(e)},window.addEventListener("DOMContentLoaded",function(){HTMLTemplateElement.bootstrap(document)});var o=document.createElement;document.createElement=function(){"use strict";var t=o.apply(document,arguments);return"template"==t.localName&&HTMLTemplateElement.decorate(t),t};var a=/[&\u00A0<>]/g}(),function(t){var e=document.createElement("style");e.textContent="body {transition: opacity ease-in 0.2s; } \nbody[unresolved] {opacity: 0; display: block; overflow: hidden; position: relative; } \n";var n=document.querySelector("head");n.insertBefore(e,n.firstChild)}(window.WebComponents)}(),r()}),System.register("github:matthewbauer/keypad@0.0.2",["github:matthewbauer/keypad@0.0.2/index"],function(t){"use strict";var e={undefined:!0};return{setters:[function(n){t({"default":n["default"]});var r=Object.create(null);Object.keys(n).forEach(function(t){"default"===t||e[t]||(r[t]=n[t])}),t(r)}],execute:function(){}}}),System.register("x-retro.js",["github:matthewbauer/window@0.0.3","github:matthewbauer/document@0.0.4","player.coffee!github:forresto/system-coffee@0.1.2"],function(t){"use strict";var e,n,r,i,o;return{setters:[function(t){e=t.AudioContext,n=t.HTMLCanvasElement},function(t){r=t.registerElement},function(t){i=t["default"]}],execute:function(){o=Object.create(n.prototype),o.inputs=[],o.attachedCallback=function(){this.hasAttribute("core")&&System["import"](this.getAttribute("core")).then(function(t){this.core=t}.bind(this)).then(function(){return this.hasAttribute("game")?System["import"](this.getAttribute("game")+"!raw").then(function(t){return this.game=t,this.hasAttribute("save")?System["import"](this.getAttribute("save")+"!raw").then(function(t){this.save=t}.bind(this)):void 0}.bind(this)):void 0}.bind(this)).then(function(){this.hasAttribute("autostart")&&this.start()}.bind(this))},Object.defineProperty(o,"core",{set:function(t){this.player=new i(this.getContext("webgl")||this.getContext("experimental-webgl"),new e,this.inputs,t)},get:function(){return this.player.core}}),Object.defineProperty(o,"game",{set:function(t){this.player.game=t,this.core.load_game(t)},get:function(){return this.player.game}}),Object.defineProperty(o,"save",{set:function(t){this.core.unserialize(t)},get:function(){return this.core.serialize()}}),o.start=function(){this.running=!0,this.player.start()},o.stop=function(){this.running=!1,this.player.stop()},t("default",r("x-retro",{prototype:o,"extends":"canvas"}))}}}),System.register("github:matthewbauer/keypad@0.0.2/index",[],function(t){"use strict";return{setters:[],execute:function(){t("default",$traceurRuntime.createClass(function(t,e){this.keys=e,this.win=t,this.id="keypad",this.mapping="standard",this.buttons=[];for(var n in this.keys)this.buttons[this.keys[n]]={pressed:!1};this.onkey=function(t){if(t.which in this.keys){var e;"keyup"===t.type?e=!1:"keydown"===t.type&&(e=!0),this.buttons[this.keys[t.which]].pressed=e,this.timestamp=t.timeStamp,t.preventDefault()}}.bind(this),this.connect()},{connect:function(){this.connected=!0,this.win.addEventListener("keydown",this.onkey),this.win.addEventListener("keyup",this.onkey)},disconnect:function(){this.connected=!1,this.win.removeEventListener("keydown",this.onkey),this.win.removeEventListener("keyup",this.onkey)}},{}))}}}),System.register("github:matthewbauer/window@0.0.3",["github:matthewbauer/window@0.0.3/window"],function(t){"use strict";var e={undefined:!0};return{setters:[function(n){t({"default":n["default"]});var r=Object.create(null);Object.keys(n).forEach(function(t){"default"===t||e[t]||(r[t]=n[t])}),t(r)}],execute:function(){}}}),System.register("github:matthewbauer/document@0.0.4",["github:matthewbauer/document@0.0.4/document"],function(t){"use strict";var e={undefined:!0};return{setters:[function(n){t({"default":n["default"]});var r=Object.create(null);Object.keys(n).forEach(function(t){"default"===t||e[t]||(r[t]=n[t])}),t(r)}],execute:function(){}}}),System.register("github:matthewbauer/document@0.0.4/document",["github:webcomponents/webcomponentsjs@0.7.12"],function(t){"use strict";function e(t){return n[t]?n[t].bind(n):void 0}var n,r;return{setters:[function(t){}],execute:function(){n="undefined"!=typeof window?window.document:{},r=e("registerElement"),t("registerElement",r),t("default",n)}}}),System.register("github:matthewbauer/window@0.0.3/window",["github:mohayonao/web-audio-api-shim@0.3.0"],function(t){"use strict";function e(t){return n[t]?n[t]:void 0}var n,r,i,o,a,s,u,d,c,h,l,f,p,m,_,g,b,v,w,y,E,x,k,C,A,S,T,O,I,L,R,N,D,M,z,B,P,U,j,F,H,Z,q,G,V,W,X,Y,K,$,J,Q,tt,et,nt,rt,it,ot,at,st,ut,dt,ct,ht,lt,ft,pt,mt,_t,gt,bt,vt,wt,yt;return{setters:[function(t){}],execute:function(){n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof this?this:{},r=e("JSON"),i=e("Math"),o=e("Reflect"),t("JSON",r),t("Math",i),t("Reflect",o),a=e("encodeURIComponent"),s=e("encodeURI"),u=e("decodeURIComponent"),d=e("decodeURI"),c=e("parseInt"),h=e("parseFloat"),l=e("isNaN"),f=e("isFinite"),t("encodeURIComponent",a),t("encodeURI",s),t("decodeURIComponent",u),t("decodeURI",d),t("parseInt",c),t("parseFloat",h),t("isNaN",l),t("isFinite",f),p=e("ArrayBuffer"),m=e("DataView"),_=e("Error"),g=e("EvalError"),b=e("Float32Array"),v=e("Float64Array"),w=e("Int8Array"),y=e("Int16Array"),E=e("Int32Array"),x=e("Map"),k=e("Proxy"),C=e("Promise"),A=e("RangeError"),S=e("ReferenceError"),T=e("Set"),O=e("Symbol"),I=e("SyntaxError"),L=e("TypeError"),R=e("Uint8Array"),N=e("Uint8ClampedArray"),D=e("Uint16Array"),M=e("Uint32Array"),z=e("URIError"),B=e("WeakMap"),P=e("WeakSet"),t("ArrayBuffer",p),t("DataView",m),t("Error",_),t("EvalError",g),t("Float32Array",b),t("Float64Array",v),t("Int8Array",w),t("Int16Array",y),t("Int32Array",E),t("Map",x),t("Proxy",k),t("Promise",C),t("RangeError",A),t("ReferenceError",S),t("Set",T),t("Symbol",O),t("SyntaxError",I),t("TypeError",L),t("Uint8Array",R),t("Uint8ClampedArray",N),t("Uint16Array",D),t("Uint32Array",M),t("URIError",z),t("WeakMap",B),t("WeakSet",P),U=e("navigator"),j=e("document"),F=e("history"),H=e("location"),Z=e("external"),q=e("requestAnimationFrame"),G=e("cancelAnimationFrame"),V=e("applicationCache"),W=e("postMessage"),t("navigator",U),t("document",j),t("history",F),t("location",H),t("external",Z),t("requestAnimationFrame",q),t("cancelAnimationFrame",G),t("applicationCache",V),t("postMessage",W),X=e("setTimeout"),Y=e("clearTimeout"),K=e("setInterval"),$=e("clearInterval"),t("setTimeout",X),t("clearTimeout",Y),t("setInterval",K),t("clearInterval",$),J=e("btoa"),Q=e("atob"),t("btoa",J),t("atob",Q),tt=e("sessionStorage"),et=e("localStorage"),t("sessionStorage",tt),t("localStorage",et),nt=e("URL"),rt=e("URLSearchParams"),t("URL",nt),t("URLSearchParams",rt),it=e("XMLHttpRequest"),ot=e("FormData"),t("XMLHttpRequest",it),t("FormData",ot),at=e("Notification"),t("Notification",at),st=e("FileReader"),ut=e("Blob"),dt=e("File"),ct=e("FileList"),t("FileReader",st),t("Blob",ut),t("File",dt),t("FileList",ct),ht=e("Gamepad"),lt=e("GamepadEvent"),ft=e("GamepadButton"),t("Gamepad",ht),t("GamepadEvent",lt),t("GamepadButton",ft),pt=e("AudioContext"),mt=e("AudioBuffer"),t("AudioContext",pt),t("AudioBuffer",mt),_t=e("fetch"),gt=e("Body"),bt=e("Request"),vt=e("Response"),wt=e("Headers"),t("fetch",_t),t("Body",gt),t("Request",bt),t("Response",vt),t("Headers",wt),yt=e("HTMLCanvasElement"),t("HTMLCanvasElement",yt),t("default",n)}}});